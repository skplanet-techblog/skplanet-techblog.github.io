{"componentChunkName":"component---src-templates-blog-post-js","path":"/search/","result":{"data":{"site":{"siteMetadata":{"title":"SK플래닛 TECH TOPIC"}},"markdownRemark":{"id":"a00f7143-8aea-506d-b543-3464fefe9f77","excerpt":"SK플래닛에서는 자사 서비스에 검색 기능이 필요한 경우 빠르게 제공하기 위하여 Elasticsearch 기반 검색 시스템을 활용합니다. 이 검색 시스템은 키워드 검색 방식으로 다수의 서비스가 쉽게 활용할 수 있는 SaaS 형태이며, AWS 환경에서 Elasticsearch, Kubernetes…","html":"<p>SK플래닛에서는 자사 서비스에 검색 기능이 필요한 경우 빠르게 제공하기 위하여 Elasticsearch 기반 검색 시스템을 활용합니다.<br>\n이 검색 시스템은 키워드 검색 방식으로 다수의 서비스가 쉽게 활용할 수 있는 SaaS 형태이며, AWS 환경에서 Elasticsearch, Kubernetes 등의 기술을 사용하고 있습니다.<br>\n주요 기능으로는 검색 데이터에 대한 색인, 통합 검색 API, Dictionary 관리 등의 기능 등을 제공하고 있습니다.</p>\n<h2>서비스 적용</h2>\n<p>현재 SK플래닛에서 서비스 중인 OK캐쉬백, Syrup, V컬러링 등의 서비스에 자체 개발한 검색 시스템이 적용되어 있습니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/910ae676eb871fef4c62966990aeb6d7/c1b63/001.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 58.22784810126582%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAA7DAAAOwwHHb6hkAAACNElEQVR42lVTy27TQBT1B7LnK/gFVogd/QOE2JYFG4QUgURZtKKKSgsNLZHJu/bEju2MXzMeP3K4d1JDMtLIyZ17zzn3zB1nt9uhqiq7D1fbNGjb9ijWUKyu66OYMeao1mm7DtP5HMvVCjsKdN3OftdhiE0cP8Y6MLHneZhNp0TW2hgvIYStZXLOccw2IRqNTpVQcYRaKVRJhCaVtLcoAoGWVBRFgTRNLVBlKqtUlwpZmiGTKWSytaCOe32F+f0v+BMXZbhGoxWUWCD3lzDJBkYm6BqDdSAxWaT48v4rrs9dq7xczVF4D2iiEDXVdpWC83s8xmg0guu61iNmyfIMJSlt6LehGLdydzfGfBnj58UlflwOwQ3HmxCB78FfLrANBUxl4ERRRLJTaDK2ptYYlI3WWkNx+/TlNke3t3Su6WYop8gt2fdvZ3j96gWeP32CDy+fwRchHFVXiLcSeZ5bMN4MxKAMxF6x6k2UUYGAIgIG47yzT5/x8d0p3p6c4OL0DTTVOf4fH8F4hOWDR8YrW1yWxV7xo1qO5USaZZk9Y9VMVFGLbAcv/rIAR5zfYDIc4upqCEEG83FBTCXdqi5LGgC99zWILVBfbG+Z/v8DJDALKIk1IQ+llDap4/YktTebIRM+jYS0LaZEwAVBEGAwGNhcVs9nPNhsgQVk77gV9q1n5mH33XuIyRi63vsa083zHPIg80T03kqawZAegWExDNg/GQbr5ePgdeB/go31L+Qw7zD2F1/LlGLxfgrqAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"그림1. SK플래닛 서비스에 적용된 검색 시스템\"\n        title=\"\"\n        src=\"/static/910ae676eb871fef4c62966990aeb6d7/f058b/001.png\"\n        srcset=\"/static/910ae676eb871fef4c62966990aeb6d7/c26ae/001.png 158w,\n/static/910ae676eb871fef4c62966990aeb6d7/6bdcf/001.png 315w,\n/static/910ae676eb871fef4c62966990aeb6d7/f058b/001.png 630w,\n/static/910ae676eb871fef4c62966990aeb6d7/40601/001.png 945w,\n/static/910ae676eb871fef4c62966990aeb6d7/c1b63/001.png 1200w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h2>서비스에 필요한 검색 기능</h2>\n<p>서비스 내 검색이 필요한 경우, 먼저 기획자는 검색과 관련된 다양한 요구 사항을 정의합니다.  개발자는 이를 토대로 기능을 설계하고 개발하게 됩니다.<br>\n다음 그림은 몇 가지 검색 요구 사항에 대한 예시입니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/585d1ef7fad8d8cbd16d811ba8bfa146/c1b63/002.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 43.67088607594937%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB6ElEQVR42k1Su04bURDdjzES5h+QwmODEEgUFAkSHSUFQpEdKqAIdYQERVIlUYKgoEBJQUFDhaAg5qHENhbZlb02fgXs9T7u3V2fzNzNWow0mp3ZeZwzczWQGIaBdrvNn+j3+4iiCKVSCaZpDmIs5XJZ6fOY67rodruDmOb0enAdB57nwfN9BEEAnywnKkvxMAyVn8Q4V0qJ7Z0dZLNryGTeYn1jE5WKBS2M+rBtG51OF64vIIQk3yO/owptGhY3FMqPh/gQUmBifhZD6RGkUsNIpdO4ub2F9mFzC8XrG/iUwFOlDJRysUPNmD5TMQwL1Vqd6HVoqFBDFhaXMDo6gfExnewY8r/z0N6/yeL6/EJRC6hhTNlTe/H+0+WGplmj/dUUcs5hXV7OQNfnMP5iBvrkHAqFu5gy/2R0XMzfbBkFa+JHUThoxML5qyvv8FJ/hamp15ieXqBD/oHmPjUIkVC7YXqO4yKXu1IHYGRJg/viHVoNyhXxarjm4PAEX/e+4+PuZ3z59gOW1YBWv/9F9OwBlR5d/fj4CA0qTi7OcrL/CYWrn3jk4/G1aR1GpUp7tXBG+UV6Yo9PNjTfcxQ1tS9CGIYSrm1SY1uhSBDmL0/RfKjQdQPKj59Xq/0XrWYT9aqFhzqjl/gHgzuHGM01iPEAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"그림2. 검색 요구 사항 예시\"\n        title=\"\"\n        src=\"/static/585d1ef7fad8d8cbd16d811ba8bfa146/f058b/002.png\"\n        srcset=\"/static/585d1ef7fad8d8cbd16d811ba8bfa146/c26ae/002.png 158w,\n/static/585d1ef7fad8d8cbd16d811ba8bfa146/6bdcf/002.png 315w,\n/static/585d1ef7fad8d8cbd16d811ba8bfa146/f058b/002.png 630w,\n/static/585d1ef7fad8d8cbd16d811ba8bfa146/40601/002.png 945w,\n/static/585d1ef7fad8d8cbd16d811ba8bfa146/c1b63/002.png 1200w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h2>검색 시스템 아키텍처</h2>\n<p>검색 시스템 아키텍처를 보면, 다음 그림과 같이 크게 AWS Service와 어플리케이션으로 구분됩니다. 그림에서 회색 부분은 AWS Service, 노란색 부분은 어플리케이션을 나타내고 있습니다.<br>\n검색 시스템에서 모든 어플리케이션은 EKS에서 동작됩니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/30f89d26c24502f4c264184131982684/c1b63/003.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 58.22784810126582%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAA7DAAAOwwHHb6hkAAACDElEQVR42n2TaW/aQBCG8///T9UvvRQpbdUmDW6AXBBjjA3YXlgD62PX9tOJ0ypHlay00l56ZuZ9Z494ZTRNQ9d1z86sdTjX8NY4elx2f2dP42AM7nCgMjsaVwncUVUGW5f9Wh5hDjlJmlJW1Qvgi0zqPGc4HJLFEV2lZKYU6Slm/hE9+4BJz7BmLcEUm2VIsdOPQCdlVFlAvjrDleohQecIggCtt7LZQbtDrz2S6SeU/4V6OwSn6RqpQGCuNLRt9wSoV6h4QCMR6Vo5bunvbc1ebVgGE6KbEXEcE0chyTIiDmcUhRFwQzybsU6SB6CV+tNwwffTAXqxIJ9/psh90UUMEGAURYyk/JuzEyYjj0vvJ5fnXxn9OmG7ySSzlmge9MF64L2TlUDncmgF0NodbVNRW9s/yLKMyZ3P+LfH7c0t0+mUme/j392xF9Pcfs/F9ZxwEVHX9VOXn49WAnVlwS5XlCKF2adoFWF2CVWxlf1G1KlI1gnvj8+5vLqmKss3gFJKK5lvkyvR6IeYMiZdnIvWnjg7JF9f4ExAIRrH4Rxfsn4zw76bpB+tWXLIl6hsRS7Zaq1QacRBL2mkpYyU/e54wMC7oCyK/4H/fsfVrY8KQ2qTYgtFo8e41Tca6cHOihm1wpZb0d2i1H0g3Vf1KvBagFoaXFSnqXNprSnFyqNWYzFuK1P3Br78en8ASR2YVgc4LpgAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"그림3. 검색 시스템 아키텍쳐\"\n        title=\"\"\n        src=\"/static/30f89d26c24502f4c264184131982684/f058b/003.png\"\n        srcset=\"/static/30f89d26c24502f4c264184131982684/c26ae/003.png 158w,\n/static/30f89d26c24502f4c264184131982684/6bdcf/003.png 315w,\n/static/30f89d26c24502f4c264184131982684/f058b/003.png 630w,\n/static/30f89d26c24502f4c264184131982684/40601/003.png 945w,\n/static/30f89d26c24502f4c264184131982684/c1b63/003.png 1200w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h3>AWS Service</h3>\n<ul>\n<li>AWS S3: 검색 데이터 저장, 검색 로그 저장\n<ul>\n<li>ES Cluster: 검색 데이터 색인, 검색 쿼리, 집계</li>\n</ul>\n</li>\n<li>Analyzer: Tokenizer, Filter, 형태소 분석</li>\n<li>Cache: 교정어 캐시 및 검색 결과 캐시</li>\n<li>DB: 사전 데이터 관리</li>\n<li>Kafka: 실시간 검색 데이터 전달파이프 라인 누출 감지: 오일이나 가스의 Delivery 파이프 라인에서 Leak 누출을 감지합니다. 실시간 Leak 감지로 사고 방지에 도움이 됩니다.</li>\n</ul>\n<h3>EKS</h3>\n<ul>\n<li>Search API 서버: 통합 검색, 자동완성</li>\n<li>Airflow Batch 서버: 색인, 집계, 통계</li>\n<li>Admin API 서버: Dictionary 관리</li>\n<li>Kafka Producer: Kafka HTTP proxy</li>\n<li>Kafka Consumer: Kafka Consumer</li>\n</ul>\n<h2>검색 시스템의 특징</h2>\n<p>SK플래닛이 개발한 검색 시스템은 배치 색인, 실시간 색인 기능을 제공하기 위한 검색 API 등이 포함되어 있습니다.<br>\n특히 서비스별 Dictionary 관리 기능을 제공하여 운영자가 Dictionary를 직접 설정할 수 있습니다. 이때 Dictionary 데이터가 주기적으로 Elasticsearch에 적용되기 때문에 검색 데이터와 Dictionary 데이터를 통합해서 관리할 수 있습니다.</p>\n<ul>\n<li>검색 시스템은 Common Service로 OK캐쉬백, Syrup 등 여러 서비스가 공유</li>\n<li>검색 데이터는 JSON 포맷 사용\n<ul>\n<li>임의의 JSON 포맷 데이터를 자유롭게 전송 가능</li>\n<li>데이터 종류별로 여러가지 JSON 포맷 정의 가능</li>\n</ul>\n</li>\n<li>검색 데이터 전송은 2가지 방식으로 제공\n<ul>\n<li>배치 색인 데이터: AWS S3 업로드(매일 또는 매 시간)</li>\n<li>실시간 색인 데이터: Kafka 전송</li>\n</ul>\n</li>\n<li>검색 API 제공\n<ul>\n<li>통합 검색 API</li>\n<li>자동 완성 API</li>\n<li>인기 검색어 API 등</li>\n</ul>\n</li>\n<li>서비스별 Dictionary 관리 기능 제공\n<ul>\n<li>사용자 사전</li>\n<li>유사어 사전</li>\n<li>교정어 사전</li>\n</ul>\n</li>\n</ul>\n<h2>검색과 ChatGPT</h2>\n<p>지난 2022년 11월 ChatGPT가 공개된 이후 가장 많은 영향을 받고 있는 분야로 검색을 꼽을 수 있습니다.<br>\n특히 구글, 마이크로소프트 등과 같이 검색 기술을 보유하고 있는 주요 빅테크 기업들은 앞다투어 ChatGPT와 같은 생성형 AI 기술을 활용하여 자사 검색 서비스를 한 단계 발전시키고 있습니다.</p>\n<p>ChatGPT 공개 이후, 국내외 주요 빅테크 기업의 기술 현황을 살펴보면  다음과 같습니다.</p>\n<ul>\n<li>ChatGPT 3.5 공개: 2022년 11월 30일</li>\n<li>GPT 4 공개: 2023년 3월 13일</li>\n<li>ChatGPT Plugin 발표: 2023년 3월</li>\n<li>마이크로소프트 빙 검색 오픈: 2023년 5월 4일\n<ul>\n<li>MS는 자체 검색 엔진 '빙'에 GPT-4 탑재</li>\n<li>MS는 출시 90일 만에 5억 건이 넘는 빙 채팅이 이뤄졌으며, 일일 활성 사용자는 1억명을 넘어섬</li>\n</ul>\n</li>\n<li>구글 바드 공개: 2023년 5월 10일\n<ul>\n<li>초기 미국과 영국 등에 제한적으로 출시했던 대화형 AI '바드'를 전세계 약 180 국가에 공개</li>\n<li>구글은 영어에 이어 한국어를 두 번째로 지원했음</li>\n</ul>\n</li>\n<li>네이버\n<ul>\n<li>기존에 선보인 초거대 AI 모델 하이퍼클로바를 업그레이드한 하이퍼클로바X를 8월에 공개</li>\n<li>이것을 백본으로 하여 새로운 검색 경험을 제공하는 CLOVA X 공개</li>\n</ul>\n</li>\n<li>카카오\n<ul>\n<li>카카오 AI 사업을 추진하는 카카오브레인은 기존의 초거대 AI 모델 KoGPT를 업그레이드한 KoGPT 2.0 공개</li>\n<li>2023년 상반기 공개를 계획했으나 기술 고도화를 통하여 2023년 하반기로 연기</li>\n<li>ChatGPT와 같은 형태의 AI 챗봇인 KoGPT는 2023 연내 공개 예정</li>\n</ul>\n</li>\n</ul>\n<p>Open AI의  ChatGPT Plugin 기술을 이용해,  다른 웹사이트나 서비스, 데이터베이스 기반의 챗봇을 만들 수 있습니다.<br>\n예를 들어 Expedia Plugin과 ChatGPT Plugin을 조합해 여행 계획을 세운다거나, Wolfram plugin과 ChatGPT Plugin을 조합해 복잡한 계산이나 지식을 제공할 수도 있습니다.<br>\nChatGPT Plugin은 기존 서비스에 ChatGPT를 활용할 수 있도록 확장성을 제공하고 있으며,\r\nMeta는 빠른 속도로 개발되고 있는ChatGPT와 경쟁하기 위해  새로운 LLM(Large Language Model)기술인  LLaMA2를 공개했습니다.</p>\n<h2>마무리</h2>\n<p>현재 SK플래닛의  검색 시스템은 키워드 검색 위주로 개발되어 왔으나, 위에서 언급한 다양한 기술과 사례를 통해 대화형 검색을 비롯한 다양한 확장이 가능할 것으로 내다보고 있습니다.<br>\n이를 어떻게 융합하고 서비스에 활용할 수 있을지 꾸준히 연구해 나갈 예정입니다.</p>","frontmatter":{"title":"SK플래닛 클라우드 기반 검색 시스템","date":"September 13, 2023","description":"SK플래닛 클라우드 기반 검색 시스템","author":"taehyung"}},"previous":{"fields":{"slug":"/dts/"},"frontmatter":{"title":"SK플래닛의 DTS 기술 적용 사례"}},"next":{"fields":{"slug":"/ogog/"},"frontmatter":{"title":"돈 버는 커뮤니티, OK캐쉬백 오글오글의 UX/UI 이야기"}}},"pageContext":{"id":"a00f7143-8aea-506d-b543-3464fefe9f77","previousPostId":"24134a56-a3b6-55e8-b7ce-ffea050066eb","nextPostId":"2a0d8c4f-d29a-53ec-b807-1ece539c6118"}},"staticQueryHashes":["2841359383"],"slicesMap":{}}