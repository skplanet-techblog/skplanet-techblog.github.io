{"componentChunkName":"component---src-templates-blog-post-js","path":"/locust/","result":{"data":{"site":{"siteMetadata":{"title":"SKí”Œë˜ë‹› TECH TOPIC"}},"markdownRemark":{"id":"ed0bdd1d-ac7a-5245-a70b-7786b71a3b54","excerpt":"ì•ˆë…•í•˜ì„¸ìš”, SKí”Œë˜ë‹›ì˜ ì›ì¤€ìˆ˜ì…ë‹ˆë‹¤. íŒ€ì—ì„œ ë¸”ë¡ì²´ì¸ ê°œë°œì—…ë¬´ë¥¼ ì§„í–‰í•˜ë‹¤ ë³´ë©´ ë¸”ë¡ì²´ì¸ì˜ nonce, ì„œëª… ë“±ì˜ ê³ ë ¤ì‚¬í•­ìœ¼ë¡œ ë¶€í•˜ í…ŒìŠ¤íŠ¸ ì‹œ ì–´ë ¤ì›€ì„ ê²ªì—ˆëŠ”ë° ì´ë¥¼ Locustë¼ëŠ” ì˜¤í”ˆì†ŒìŠ¤ íˆ´ì„ ì´ìš©í•˜ì—¬ í•´ê²°í•˜ì˜€ìŠµë‹ˆë‹¤.\nê°„ë‹¨í•œ ì˜ˆì‹œë¥¼ ì´ìš©í•˜ì—¬ Locustì˜ ê¸°ëŠ¥ê³¼ ì¥ì ì— ëŒ€í•˜ì—¬ ê³µìœ í•˜ê² ìŠµë‹ˆë‹¤. ë“¤ì–´ê°€ë©° Locustâ€¦","html":"<p>ì•ˆë…•í•˜ì„¸ìš”, SKí”Œë˜ë‹›ì˜ ì›ì¤€ìˆ˜ì…ë‹ˆë‹¤. íŒ€ì—ì„œ ë¸”ë¡ì²´ì¸ ê°œë°œì—…ë¬´ë¥¼ ì§„í–‰í•˜ë‹¤ ë³´ë©´ ë¸”ë¡ì²´ì¸ì˜ nonce, ì„œëª… ë“±ì˜ ê³ ë ¤ì‚¬í•­ìœ¼ë¡œ ë¶€í•˜ í…ŒìŠ¤íŠ¸ ì‹œ ì–´ë ¤ì›€ì„ ê²ªì—ˆëŠ”ë° ì´ë¥¼ Locustë¼ëŠ” ì˜¤í”ˆì†ŒìŠ¤ íˆ´ì„ ì´ìš©í•˜ì—¬ í•´ê²°í•˜ì˜€ìŠµë‹ˆë‹¤.<br>\nê°„ë‹¨í•œ ì˜ˆì‹œë¥¼ ì´ìš©í•˜ì—¬ Locustì˜ ê¸°ëŠ¥ê³¼ ì¥ì ì— ëŒ€í•˜ì—¬ ê³µìœ í•˜ê² ìŠµë‹ˆë‹¤.</p>\n<h2>ë“¤ì–´ê°€ë©°</h2>\n<hr>\n<p>LocustëŠ” ì‚¬ìš©ì ì •ì˜ í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ì‘ì„±í•˜ëŠ” ë°ì— Pythonì„ ê¸°ë°˜ìœ¼ë¡œ í•˜ê³  ìˆìŠµë‹ˆë‹¤.<br>\nPythonì€ ë§ì€ ê°œë°œìë“¤ì´ ì´ë¯¸ ìµìˆ™í•œ ì–¸ì–´ì´ë©°, ë†’ì€ ìœ ì—°ì„±ê³¼ í™•ì¥ì„±ì„ ì œê³µí•©ë‹ˆë‹¤.<br>\nì €ì˜ ê²½ìš°ì—ë„ web3 python module ì„í¬íŠ¸í•˜ì—¬ ì‰½ê²Œ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.<br>\nì´ì™¸ì—ë„ ì‚¬ìš©ìê°€ ì›¹ ê¸°ë°˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•´ í…ŒìŠ¤íŠ¸ë¥¼ ëª¨ë‹ˆí„°ë§í•˜ê³  ì œì–´í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ì œê³µí•˜ì—¬ ì‘ì—…ì´ ë” ì§ê´€ì ì´ê³  íš¨ìœ¨ì ìœ¼ë¡œ ë§Œë“¤ì–´ì¤ë‹ˆë‹¤.<br>\në˜í•œ, ë§ˆìŠ¤í„°-ì›Œì»¤ (Master-Worker) êµ¬ì¡°ë¥¼ ì§€ì›í•˜ì—¬ ëŒ€ê·œëª¨ íŠ¸ë˜í”½ì„ ìƒì„±í•˜ê³  ê´€ë¦¬í•˜ì—¬ ë³µì¡í•œ ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<p>ë³¸ í¬ìŠ¤íŒ…ì—ì„œëŠ” Locustë¥¼ ì´ìš©í•œ ê°„ë‹¨í•œ 3ê°€ì§€ í…ŒìŠ¤íŠ¸ ì˜ˆì‹œë¥¼ ì‘ì„±í•´ë³´ê² ìŠµë‹ˆë‹¤.</p>\n<ol>\n<li>ìš”ì²­ íšŸìˆ˜ ì œí•œ í…ŒìŠ¤íŠ¸ (Rate Limiting)</li>\n<li>ë§ˆìŠ¤í„° ë…¸ë“œì™€ ì›Œì»¤ ë…¸ë“œë¥¼ ì‚¬ìš©í•œ í…ŒìŠ¤íŠ¸</li>\n<li>ê³ ìœ í•œ ì„±ì§ˆì„ ê°€ì§„ ìœ ì €ì˜ í…ŒìŠ¤íŠ¸</li>\n</ol>\n<h2>1. ìš”ì²­ íšŸìˆ˜ ì œí•œ í…ŒìŠ¤íŠ¸ (Rate Limiting)</h2>\n<hr>\n<h3>(1) í…ŒìŠ¤íŠ¸ ëŒ€ìƒ ì„œë²„ êµ¬ì„±</h3>\n<p>ğŸ§‘â€ğŸš€ ìš”ì²­ì‚¬í•­</p>\n<ul>\n<li>ì´ˆë‹¹ 100ê°œì˜ ìš”ì²­ì„ ì²˜ë¦¬í•˜ê³  ë‚˜ë¨¸ì§€ ìš”ì²­ì€ ì œí•œí•˜ëŠ” ë¡œì§ì„ ì‘ì„±í•˜ê³  ì˜¬ë°”ë¥´ê²Œ ì‘ë™í•˜ëŠ”ì§€ í…ŒìŠ¤íŠ¸</li>\n</ul>\n<p>ë¹ ë¥´ê³  ê°„ë‹¨í•˜ê²Œ ì„œë²„ë¥¼ êµ¬ì„±í•˜ê¸° ìœ„í•´ Golangì„ ì‚¬ìš©í•˜ê³  ì½”ë“œ ì‘ì„±ì€ ChatGPTì˜ í˜ì„ ë¹Œë ¸ìŠµë‹ˆë‹¤.<br></p>\n<div class=\"gatsby-highlight\" data-language=\"go\"><pre class=\"language-go\"><code class=\"language-go\"><span class=\"token keyword\">package</span> main\n\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">(</span>\n\t<span class=\"token string\">\"fmt\"</span>\n\t<span class=\"token string\">\"golang.org/x/time/rate\"</span>\n\t<span class=\"token string\">\"log\"</span>\n\t<span class=\"token string\">\"net/http\"</span>\n<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// ìš”ì²­ì„ ì²˜ë¦¬í•  í•¸ë“¤ëŸ¬</span>\n<span class=\"token keyword\">func</span> <span class=\"token function\">handler</span><span class=\"token punctuation\">(</span>w http<span class=\"token punctuation\">.</span>ResponseWriter<span class=\"token punctuation\">,</span> r <span class=\"token operator\">*</span>http<span class=\"token punctuation\">.</span>Request<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Fprintln</span><span class=\"token punctuation\">(</span>w<span class=\"token punctuation\">,</span> <span class=\"token string\">\"Hello, world!\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// ì†ë„ ì œí•œì„ êµ¬í˜„í•˜ëŠ” ë¯¸ë“¤ì›¨ì–´</span>\n<span class=\"token keyword\">func</span> <span class=\"token function\">rateLimiter</span><span class=\"token punctuation\">(</span>next http<span class=\"token punctuation\">.</span>Handler<span class=\"token punctuation\">,</span> limiter <span class=\"token operator\">*</span>rate<span class=\"token punctuation\">.</span>Limiter<span class=\"token punctuation\">)</span> http<span class=\"token punctuation\">.</span>Handler <span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">return</span> http<span class=\"token punctuation\">.</span><span class=\"token function\">HandlerFunc</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">func</span><span class=\"token punctuation\">(</span>w http<span class=\"token punctuation\">.</span>ResponseWriter<span class=\"token punctuation\">,</span> r <span class=\"token operator\">*</span>http<span class=\"token punctuation\">.</span>Request<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token keyword\">if</span> <span class=\"token operator\">!</span>limiter<span class=\"token punctuation\">.</span><span class=\"token function\">Allow</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t\thttp<span class=\"token punctuation\">.</span><span class=\"token function\">Error</span><span class=\"token punctuation\">(</span>w<span class=\"token punctuation\">,</span> <span class=\"token string\">\"Too Many Requests\"</span><span class=\"token punctuation\">,</span> http<span class=\"token punctuation\">.</span>StatusTooManyRequests<span class=\"token punctuation\">)</span>\n\t\t\t<span class=\"token keyword\">return</span>\n\t\t<span class=\"token punctuation\">}</span>\n\t\tnext<span class=\"token punctuation\">.</span><span class=\"token function\">ServeHTTP</span><span class=\"token punctuation\">(</span>w<span class=\"token punctuation\">,</span> r<span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\tlimiter <span class=\"token operator\">:=</span> rate<span class=\"token punctuation\">.</span><span class=\"token function\">NewLimiter</span><span class=\"token punctuation\">(</span>rate<span class=\"token punctuation\">.</span><span class=\"token function\">Limit</span><span class=\"token punctuation\">(</span><span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">120</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// ì´ˆë‹¹ 100ê°œì˜ ìš”ì²­ì„ í—ˆìš©í•˜ê³  ìµœëŒ€ 120ê°œì˜ ë²„ìŠ¤íŠ¸ ìš”ì²­ì„ í—ˆìš©</span>\n\n\tmux <span class=\"token operator\">:=</span> http<span class=\"token punctuation\">.</span><span class=\"token function\">NewServeMux</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\tmux<span class=\"token punctuation\">.</span><span class=\"token function\">HandleFunc</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/\"</span><span class=\"token punctuation\">,</span> handler<span class=\"token punctuation\">)</span>\n\n\t<span class=\"token comment\">// rate limiter ë¯¸ë“¤ì›¨ì–´ ì¶”ê°€</span>\n\twrappedMux <span class=\"token operator\">:=</span> <span class=\"token function\">rateLimiter</span><span class=\"token punctuation\">(</span>mux<span class=\"token punctuation\">,</span> limiter<span class=\"token punctuation\">)</span>\n\n\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Starting server at :8080\"</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">if</span> err <span class=\"token operator\">:=</span> http<span class=\"token punctuation\">.</span><span class=\"token function\">ListenAndServe</span><span class=\"token punctuation\">(</span><span class=\"token string\">\":8080\"</span><span class=\"token punctuation\">,</span> wrappedMux<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> err <span class=\"token operator\">!=</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">{</span>\n\t\tlog<span class=\"token punctuation\">.</span><span class=\"token function\">Fatal</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3>(2) Locust ì„¤ì¹˜ ë° ì„¤ì •</h3>\n<p>ì„¤ì¹˜</p>\n<ul>\n<li>locust ê³µì‹ í™ˆí˜ì´ì§€ - <a href=\"https://docs.locust.io/en/stable/installation.html\">https://docs.locust.io/en/stable/installation.html</a></li>\n<li>homebrew - <a href=\"https://formulae.brew.sh/formula/locust\">https://formulae.brew.sh/formula/locust</a></li>\n</ul>\n<p>ì½”ë“œ ì‘ì„±</p>\n<p><em><strong>rate_limit_test.py</strong></em></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> locust <span class=\"token keyword\">import</span> HttpUser<span class=\"token punctuation\">,</span> task<span class=\"token punctuation\">,</span> between\n\nHOST<span class=\"token operator\">=</span><span class=\"token string\">\"http://localhost:8080\"</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">WebsiteUser</span><span class=\"token punctuation\">(</span>HttpUser<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    host <span class=\"token operator\">=</span> HOST\n    \n    <span class=\"token decorator annotation punctuation\">@task</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">test</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">with</span> self<span class=\"token punctuation\">.</span>client<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token string\">'/'</span><span class=\"token punctuation\">,</span> name<span class=\"token operator\">=</span><span class=\"token string\">\"rate_limit_test\"</span><span class=\"token punctuation\">,</span> catch_response<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> response<span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">)</span>\n    \n    wait_time <span class=\"token operator\">=</span> between<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>ì„¤ëª…</p>\n<ol>\n<li>'WebsiteUser' í´ë˜ìŠ¤ëŠ” Locustì—ì„œ ì œê³µí•˜ëŠ” ê¸°ë³¸ ì‚¬ìš©ì í´ë˜ìŠ¤ ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤. <br>\nì´ í´ë˜ìŠ¤ë¥¼ ìƒì†í•˜ë©´ Locustê°€ HTTP ìš”ì²­ì„ ì‰½ê²Œ ë§Œë“¤ê³  ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ì—¬ëŸ¬ ê¸°ëŠ¥ì„ í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>\n<li>@task ë°ì½”ë ˆì´í„°ëŠ” í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ì˜ ì¼ë¶€ë¥¼ ì •ì˜í•©ë‹ˆë‹¤.<br>\nì‘ì„±ëœ test ë©”ì†Œë“œëŠ” ë¬´í•œ ë£¨í”„ë¡œ ì‹¤í–‰ë˜ë©°, ì›¹ í˜¸ìŠ¤íŠ¸ì˜ ë£¨íŠ¸ í˜ì´ì§€ì— GET ìš”ì²­ì„ ë³´ëƒ…ë‹ˆë‹¤.</li>\n<li>self.client.get() ë©”ì„œë“œëŠ” Locustì—ì„œ ì œê³µí•˜ëŠ” HTTP í´ë¼ì´ì–¸íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ GET ìš”ì²­ì„ ë³´ë‚´ê³ , ì‘ë‹µì„ ë°›ìŠµë‹ˆë‹¤.<br>\ncatch_response=Trueë¡œ ì„¤ì •í•˜ë©´ Locustê°€ ì‘ë‹µì„ ìºì¹˜í•˜ì—¬ ì‹¤íŒ¨ ì—¬ë¶€ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>\n<li>wait_time ì†ì„±ì„ í†µí•´ ê° ì‚¬ìš©ìê°€ ë‹¤ìŒ ì‘ì—…ì„ ìˆ˜í–‰í•˜ê¸° ì „ì— 1ì´ˆì˜ ì‹œê°„ì„ ëŒ€ê¸°í•˜ë„ë¡ ì„¤ì •í•´ë‘ì—ˆìŠµë‹ˆë‹¤.</li>\n</ol>\n<p>ê° ì‚¬ìš©ìëŠ” 1ì´ˆì— í•œë²ˆì˜ ìš”ì²­ì„ ì§„í–‰í•˜ê²Œ ë©ë‹ˆë‹¤.</p>\n<h3>(3) Locust ì‹¤í–‰ ë° ì ‘ì†</h3>\n<p>Locust ì‹¤í–‰</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># ì‘ì„±ëœ pythoníŒŒì¼ìœ¼ë¡œ ì´ë¦„ ë³€ê²½ (rate_limit_test.py)</span>\n$ locust <span class=\"token parameter variable\">-f</span> rate_limit_test.py</code></pre></div>\n<p>ë¸Œë¼ìš°ì €ì—ì„œ localhost:8089 ì ‘ì†\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ec32d5f34b9b1b4e0c3034dabd7241b4/baf97/locust_img_01.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 37.9746835443038%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAABGElEQVR42p2QTUsCURSG778K+lhFLqJdIKRtyoigRT/AZfvIAg2DWgRlMQVCFhZt26SjYui6clUWjCXN/Zo376UZZxoz6L08cM8593zcQxZzSawa65jdX8PIRhSjm3MYS8UwsT0fYnwrjsn0AmZ2VxDZSWA6u4ypTEITySxpH+GCgwsBIQWsjoXn9gvab6+wqQ3G2UDE93t1V/lM9GMEPkkpPRzHwW9SMZefIj23dxhjoJRqVGc9yR/4iysCE37aNqz3Dj66Xb0GLoejvh2aMPAV6UDSXlch8V8RdydKpYc69m4N5MoFHJsXHka1GLBPKpc4uMuj9HgPf36oYKXVxJFZwFntWhdxyddvAvZp7QqH5XOYT41QwS/ztEQ+uP/cSgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"locust_img_01\"\n        title=\"\"\n        src=\"/static/ec32d5f34b9b1b4e0c3034dabd7241b4/f058b/locust_img_01.png\"\n        srcset=\"/static/ec32d5f34b9b1b4e0c3034dabd7241b4/c26ae/locust_img_01.png 158w,\n/static/ec32d5f34b9b1b4e0c3034dabd7241b4/6bdcf/locust_img_01.png 315w,\n/static/ec32d5f34b9b1b4e0c3034dabd7241b4/f058b/locust_img_01.png 630w,\n/static/ec32d5f34b9b1b4e0c3034dabd7241b4/40601/locust_img_01.png 945w,\n/static/ec32d5f34b9b1b4e0c3034dabd7241b4/78612/locust_img_01.png 1260w,\n/static/ec32d5f34b9b1b4e0c3034dabd7241b4/baf97/locust_img_01.png 2942w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span>\nNumber of users - í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•˜ëŠ” ë™ì•ˆ ìƒì„±ë  ê°€ìƒ ì‚¬ìš©ìì˜ ì´ ìˆ˜ <br>\nRamp-up - ë¶€í•˜ë¥¼ ì ì§„ì ìœ¼ë¡œ ì¦ê°€ì‹œí‚¬ ì‚¬ìš©ìì˜ ìˆ˜</p>\n<h3>(4) í…ŒìŠ¤íŠ¸ ì§„í–‰</h3>\n<p>100ëª…ì˜ ìœ ì €ê°€ ì´ˆë‹¹ 1ê°œ ìš”ì²­\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/6c200df026245b71a46d29045ef0c0ce/ea9a1/locust_img_02.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 62.65822784810127%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAACRklEQVR42nWSzWoUQRSF+0UUgt31X1393zNBREFQItlmZSC4kIS4Di5cunThKkRFE1wJbnwBnUlmQnyr46maiRHUxce5VV1d995zK3v29RUOv73G7peXuHu8iwfv9hL3T/awfXaIrY/72Pq0j+3TQzw5PUjrx5+fY+ftEY4P3uPD0VMs3zzC0ckOHp69QDZbnOP7Yo75xTlm53P8mM+p59QZ5tTZ8gI/r66wWC7/Yrm4JAtcLhdcL3BxuUQWQgNfVrC2hBIGStqVCqq2kM7BOg9lHGRcG7uKE3atLu0pZZEVhUaRKxSKagwKTZxFXnvklUdB8uCS/o+8dtjoLIQ1yByzmzrAtqyyoTbUuLYelhmtXLOOnbzZc2uMMqxSsjteOE5HjMOAoawTvV/pQCvG0GJSt5g2jKs2EfcT1Ur7UCfGaB1ty0r+bG1AIXVCMMt1rBSrjx6WJnkkWEkh1Io/zl8jY4WicMjzWK6D1y0qN7KFAMmhaFWyVSZUDRy/WV3Dmxal6VIcCbbnOZ8wmhXe29xEW/foSBUq1I3B5qTBZOgwdh16ejv2LfqOOsQ4asB0bEiFQN83rMCGuQPHbrLJ1GPkh350iZJTc6XnxSWqxqHqAtWj4tR9iLj0PeFZlTcwwUDTFs1nlPmygWS5gi1GpLTJCyk0JJ+UYBvalGmCUlyjf8dqjU5vmB5qzYcp4wF1Q0xQ9hBhpA4rUjyu9E+4l1cDGfl0ArKU2dYQ1XR9aJJUmooXs1rtCZOqfyN45ja9u2XipC1+Ae8jvdzQXN3tAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"locust_img_02\"\n        title=\"\"\n        src=\"/static/6c200df026245b71a46d29045ef0c0ce/f058b/locust_img_02.png\"\n        srcset=\"/static/6c200df026245b71a46d29045ef0c0ce/c26ae/locust_img_02.png 158w,\n/static/6c200df026245b71a46d29045ef0c0ce/6bdcf/locust_img_02.png 315w,\n/static/6c200df026245b71a46d29045ef0c0ce/f058b/locust_img_02.png 630w,\n/static/6c200df026245b71a46d29045ef0c0ce/40601/locust_img_02.png 945w,\n/static/6c200df026245b71a46d29045ef0c0ce/78612/locust_img_02.png 1260w,\n/static/6c200df026245b71a46d29045ef0c0ce/ea9a1/locust_img_02.png 2970w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<br>\n<p><strong>ì‚¬ìš©ìë¥¼ 110ìœ¼ë¡œ ëŠ˜ë ¤ë³´ë©´?</strong>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/2c6c9e1fcef7191f46b8be0d3e1a0f99/30c0b/locust_img_03.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 62.0253164556962%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAACE0lEQVR42mWS227TQBCG/Rg0zaFA6/WefWjLkyGQKiFaCSQuSJvEjlOgF/SqEi+QIhEOEhI3PNPPv2unrcTFp392ZnZ2POPk3c9POP99jebPDd7++Ijn6/d4eXuBF+spTr7O8eb7B5x+W+Jss8Ipeb1pI682Na4/r/FrdYW/X05xuz7DCePJZXOJtlmhaZZoZkvU5zWaixr1dIFmWmNBu21aXC0usZy3WJG2p65rzHhvtlhhPl/FWDLZe4rR+DFGoz0MdkcYDIbYCToeY2fUQ7s7j3rGeDSkDumnPaA9mIS8CRJjPWRmkCmibUR4h8za/3G9mgdKBP1PbAbJGolSXVA6B8WACsqAyrboDtHZWpoeHeOaSNpCZ9ChYFke4fj4GSpfwbG4167DeDjjULpDHJYFjqoCuSvod9Hvtjna3aFk6DB8YqaQCkkUhLA4SDPsH2TU4OPr7EzEmKYvqImEnDRV/b0uJ7GmgFE5MhayquRLPOvQXRFtb9i5KXu7hNV5VN/HLdEyJ1TlkRS55efkyD2LOA1rJby3kXD2vc9ZFc/3KMY4Qyex71OM1QRSs8OyqlCUfDksg5+vFDcsuSR1j3IVjM05fBsJi5TSRDvjQqRSvKuQcXTJNlFwXoKzizyYSdR40SDlY/f4Oz0g+0RI1/02IiwkXNC+S+RcUs4qnoOqjlBYMK8jLNNE9vhlu+wylRr/AChhmRHl2vaSAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"locust_img_03\"\n        title=\"\"\n        src=\"/static/2c6c9e1fcef7191f46b8be0d3e1a0f99/f058b/locust_img_03.png\"\n        srcset=\"/static/2c6c9e1fcef7191f46b8be0d3e1a0f99/c26ae/locust_img_03.png 158w,\n/static/2c6c9e1fcef7191f46b8be0d3e1a0f99/6bdcf/locust_img_03.png 315w,\n/static/2c6c9e1fcef7191f46b8be0d3e1a0f99/f058b/locust_img_03.png 630w,\n/static/2c6c9e1fcef7191f46b8be0d3e1a0f99/40601/locust_img_03.png 945w,\n/static/2c6c9e1fcef7191f46b8be0d3e1a0f99/78612/locust_img_03.png 1260w,\n/static/2c6c9e1fcef7191f46b8be0d3e1a0f99/30c0b/locust_img_03.png 2956w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>RateLimitì´ ë°œìƒí•˜ê¸° ì‹œì‘í•¨ <br>\nì„œë²„ì—ì„œ ì •ìƒì ìœ¼ë¡œ RateLimitì´ ì‘ë™í•˜ê³  ìˆëŠ” ê²ƒ í™•ì¸ (429 ì‘ë‹µ)</p>\n<h2>2. ë§ˆìŠ¤í„° ë…¸ë“œì™€ ì›Œì»¤ ë…¸ë“œë¥¼ ì‚¬ìš©í•œ í…ŒìŠ¤íŠ¸</h2>\n<hr>\n<p>í•˜ë‚˜ì˜ ë…¸ë“œì—ì„œë§Œ íŠ¸ë˜í”½ì„ ë°œìƒì‹œí‚¤ëŠ” ê²½ìš°ì—ëŠ” ì„œë²„ì˜ ì»´í“¨íŒ… ìì› í•œê³„ë¡œ ì¸í•˜ì—¬ ëŒ€ëŸ‰ì˜ íŠ¸ë˜í”½ì„ ìƒì„±í•˜ëŠ” ë° ì œì•½ì´ ìˆìŠµë‹ˆë‹¤. <br>\nì´ëŸ¬í•œ í•œê³„ë¥¼ ê·¹ë³µí•˜ê¸° ìœ„í•´ locustëŠ” ë§ˆìŠ¤í„°-ì›Œì»¤ êµ¬ì¡°ë¥¼ ì œê³µí•˜ê³  ìˆìŠµë‹ˆë‹¤. <br>\nì‹¤ìŠµì€ ìœ„ì—ì„œ ì§„í–‰í•œ Rate Limiting í…ŒìŠ¤íŠ¸ë¥¼ ì—¬ëŸ¬ ë…¸ë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ë¶€í•˜ë¥¼ ë„£ëŠ” ë°©ì‹ìœ¼ë¡œ ì§„í–‰í•˜ê² ìŠµë‹ˆë‹¤.</p>\n<h3>(1) í™˜ê²½ êµ¬ì„±</h3>\n<p>ê°„ë‹¨í•œ ì‹¤ìŠµì„ ìœ„í•´ í•˜ë‚˜ì˜ ì¥ì¹˜ì— ì—¬ëŸ¬ ì»¨í…Œì´ë„ˆë¥¼ êµ¬ì„±í•´ë³´ê² ìŠµë‹ˆë‹¤. (ì‹¤ì œ ì ìš©ì€ ì—¬ëŸ¬ ê°œì˜ ì¥ì¹˜ë¥¼ ë¬¶ì–´ì„œ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.) <br>\ndocker-compose ê¸°ìˆ ì„ ì‚¬ìš©í•˜ì—¬ ì—¬ëŸ¬ê°œì˜ ë¡œì»¬ ì»¨í…Œì´ë„ˆë¥¼ í™œìš©í•˜ê² ìŠµë‹ˆë‹¤. (1ëŒ€ì˜ master nodeì™€ 3ëŒ€ì˜ worker nodeë¡œ êµ¬ì„±) <br></p>\n<p>ì»¨í…Œì´ë„ˆê°„ í†µì‹ ì„ ìœ„í•´ ìœ„ì—ì„œ ì‚¬ìš©í•œ íŒŒì¼ì˜ HOST ì£¼ì†Œë¥¼ localhostì—ì„œ í˜„ì¬ ì»´í“¨í„° private ipë¡œ ë°”ê¿”ì£¼ëŠ” ì‘ì—…ì´ í•„ìš”í•©ë‹ˆë‹¤. <br></p>\n<p><em><strong>rate_limit_test.py</strong></em></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> locust <span class=\"token keyword\">import</span> HttpUser<span class=\"token punctuation\">,</span> task<span class=\"token punctuation\">,</span> between\n\nHOST<span class=\"token operator\">=</span><span class=\"token string\">\"http://{PRIVATE_IP}:8080\"</span> <span class=\"token comment\">## PRIVATE_IPë¡œ ë³€ê²½ í•„ìš”</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">WebsiteUser</span><span class=\"token punctuation\">(</span>HttpUser<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    host <span class=\"token operator\">=</span> HOST\n    \n    <span class=\"token decorator annotation punctuation\">@task</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">test</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">with</span> self<span class=\"token punctuation\">.</span>client<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token string\">'/'</span><span class=\"token punctuation\">,</span> name<span class=\"token operator\">=</span><span class=\"token string\">\"rate_limit_test\"</span><span class=\"token punctuation\">,</span> catch_response<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> response<span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">)</span>\n    \n    wait_time <span class=\"token operator\">=</span> between<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><em><strong>docker-compose.yml</strong></em></p>\n<div class=\"gatsby-highlight\" data-language=\"docker-compose\"><pre class=\"language-docker-compose\"><code class=\"language-docker-compose\">version: &#39;3&#39;\nservices:\n  locust-master:\n    image: locustio/locust\n    command: &gt;\n      --master --web-host 0.0.0.0 --master-bind-host 0.0.0.0 --master-bind-port 5557 -f /mnt/rate_limit_test.py\n    ports:\n      - &quot;8089:8089&quot;\n    networks:\n      - locust-network\n    volumes:\n      - ./rate_limit_test.py:/mnt/rate_limit_test.py  # í…ŒìŠ¤íŠ¸ íŒŒì¼ ë§ˆìš´íŠ¸\n\n  locust-worker-1:\n    image: locustio/locust\n    command: &gt;\n      --worker --master-host locust-master --master-port 5557 -f /mnt/rate_limit_test.py\n    networks:\n      - locust-network\n    volumes:\n      - ./rate_limit_test.py:/mnt/rate_limit_test.py\n\n  locust-worker-2:\n    image: locustio/locust\n    command: &gt;\n      --worker --master-host locust-master --master-port 5557 -f /mnt/rate_limit_test.py\n    networks:\n      - locust-network\n    volumes:\n      - ./rate_limit_test.py:/mnt/rate_limit_test.py\n\n  locust-worker-3:\n    image: locustio/locust\n    command: &gt;\n      --worker --master-host locust-master --master-port 5557 -f /mnt/rate_limit_test.py\n    networks:\n      - locust-network\n    volumes:\n      - ./rate_limit_test.py:/mnt/rate_limit_test.py\n\nnetworks:\n  locust-network:\n    driver: bridge</code></pre></div>\n<h3>(2) í…ŒìŠ¤íŠ¸ ì§„í–‰</h3>\n<p>ìœ„ì—ì„œ ì„¤ì •í•œ ì»¨í…Œì´ë„ˆ ì‹¤í–‰</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ <span class=\"token function\">docker-compose</span> up</code></pre></div>\n<p>ë¸Œë¼ìš°ì €ì—ì„œ localhost:8089 ì ‘ì†í•˜ì—¬ 3ëŒ€ì˜ worker node í™•ì¸\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/e8a3c4bd1acecc7210a20b5eacf55ead/9ba38/locust_img_04.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 39.87341772151899%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABMklEQVR42o2RPUsDQRCG788kNiJoLYKIkBgsYixsr7G2UFACaYREJB6SQmLtHxD87m0tBVuNJJBo4p17H7u3u6+3Gy9eLoUZeNiZ2eHl3R1jqbmOlaaJ5TMT2VoemWoe2YiZo8KITG0NC9Ymti52kTvfxpxVwuJxEWY5h9XDAmatDczXi9FMCQYJCNzAg0t99L4+8dpu4a3zrnPb+x7hRAgpwEIW5WTYIzYc1/mb8QkMJEIIAamRkFIiHfo+1U/XhmrEcM5BGQWlFDzkWmAakhpjDsMwBGNMD2lRwf9FfcOYw2ShHDIaCUanEp8mJp6cLHwWoNVro9PvYuA56Lu2RuXJOuaDDPQyJwRj20+tZ+xd1VG+PcXBjaXZvz5B5a6Byn1D53FfzexcVvHw8jhc2K/THxz+QMj6QdjIAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"locust_img_04\"\n        title=\"\"\n        src=\"/static/e8a3c4bd1acecc7210a20b5eacf55ead/f058b/locust_img_04.png\"\n        srcset=\"/static/e8a3c4bd1acecc7210a20b5eacf55ead/c26ae/locust_img_04.png 158w,\n/static/e8a3c4bd1acecc7210a20b5eacf55ead/6bdcf/locust_img_04.png 315w,\n/static/e8a3c4bd1acecc7210a20b5eacf55ead/f058b/locust_img_04.png 630w,\n/static/e8a3c4bd1acecc7210a20b5eacf55ead/40601/locust_img_04.png 945w,\n/static/e8a3c4bd1acecc7210a20b5eacf55ead/78612/locust_img_04.png 1260w,\n/static/e8a3c4bd1acecc7210a20b5eacf55ead/9ba38/locust_img_04.png 1329w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>í…ŒìŠ¤íŠ¸ ì§„í–‰ ë° ìƒíƒœ í™•ì¸\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/98c04c2f9692a9c62233c72330ba8d27/9685e/locust_img_05.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 25.316455696202528%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA/ElEQVR42kWPzUoDMRSF56VciVgpulaUulApRRTc6EJwKwouddWO4qIUlz6HLyNkXMwkmfwfc9JaD3yc5N6Tm6TaX5zgaHGDg/k1Nl5GGNYTXH7e4/jjFoPpGLuv5xjMxgX2dmYTbL2fYvRwh/qsxvzqEF+P23h63sPm2wUqqRW06df01iCGiJBRvSp7Zjoly7rTEt+tgDIK1ruCNjq7hQ0OlbUWwXuklJBiRCQpIuFf7Hm3zDjniltjl9mMUqo4VXVdB9E0aH4aCCEKDFCRl2RCCJBSFvcZHuZgit627SofURljSvgPXsBaWg0jHMAanUPLi/OvKO611uvsL5czZ5lrdKb4AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"locust_img_05\"\n        title=\"\"\n        src=\"/static/98c04c2f9692a9c62233c72330ba8d27/f058b/locust_img_05.png\"\n        srcset=\"/static/98c04c2f9692a9c62233c72330ba8d27/c26ae/locust_img_05.png 158w,\n/static/98c04c2f9692a9c62233c72330ba8d27/6bdcf/locust_img_05.png 315w,\n/static/98c04c2f9692a9c62233c72330ba8d27/f058b/locust_img_05.png 630w,\n/static/98c04c2f9692a9c62233c72330ba8d27/40601/locust_img_05.png 945w,\n/static/98c04c2f9692a9c62233c72330ba8d27/78612/locust_img_05.png 1260w,\n/static/98c04c2f9692a9c62233c72330ba8d27/9685e/locust_img_05.png 1336w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span>\n100ëª…ì˜ ìœ ì €ê°€ ì»¨í…Œì´ë„ˆë³„ë¡œ ë‚˜ë‰˜ì–´ì„œ ìˆ˜í–‰ë˜ëŠ” ê²ƒì„ í™•ì¸ <br>\nê° ì»¨í…Œì´ë„ˆì˜ ìì› ë¦¬ì†ŒìŠ¤ í˜„í™© í™•ì¸ ê°€ëŠ¥</p>\n<h3>(3) í…ŒìŠ¤íŠ¸ ì¢…ë£Œ</h3>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ <span class=\"token function\">docker-compose</span> down</code></pre></div>\n<h2>3. ê³ ìœ í•œ ì„±ì§ˆì„ ê°€ì§„ ìœ ì €ì˜ í…ŒìŠ¤íŠ¸</h2>\n<hr>\n<p>ë¸”ë¡ì²´ì¸ì˜ íŠ¸ëœì­ì…˜ ì²˜ë¦¬ëŸ‰ì— ëŒ€í•œ ë¶€í•˜í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•˜ê¸° ìœ„í•´ì„œëŠ” í…ŒìŠ¤íŠ¸ ìœ ì €ê°„ ê°ê¸° ë‹¤ë¥¸ ì§€ê°‘ì´ í•„ìš”í•˜ì˜€ê³ , í…ŒìŠ¤íŠ¸ ìœ ì €ê°€ ì´ˆê¸°í™” ë˜ëŠ” ìˆœê°„ì— ì§€ê°‘ì„ ë§Œë“¤ì–´ í•´ê²°í•˜ì˜€ìŠµë‹ˆë‹¤.<br>\nê°„ë‹¨í•œ ì˜ˆì‹œë¥¼ í†µí•´ ê³ ìœ í•œ ì„±ì§ˆì„ ê°€ì§€ëŠ” ìœ ì €ë¡œ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•´ë³´ê² ìŠµë‹ˆë‹¤.</p>\n<h3>(1) í…ŒìŠ¤íŠ¸ ëŒ€ìƒ ì„œë²„ êµ¬ì„±</h3>\n<p>ğŸ§‘â€ğŸš€ ìš”ì²­ì‚¬í•­</p>\n<ul>\n<li>ê° íšŒì›ë³„ í´ë¦­ íšŸìˆ˜ ì €ì¥</li>\n<li>íšŒì›ë³„ í´ë¦­ íšŸìˆ˜ í™•ì¸</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"go\"><pre class=\"language-go\"><code class=\"language-go\"><span class=\"token keyword\">package</span> main\n\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">(</span>\n\t<span class=\"token string\">\"encoding/json\"</span>\n\t<span class=\"token string\">\"fmt\"</span>\n\t<span class=\"token string\">\"log\"</span>\n\t<span class=\"token string\">\"net/http\"</span>\n\t<span class=\"token string\">\"strings\"</span>\n<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">var</span> clickedMap <span class=\"token keyword\">map</span><span class=\"token punctuation\">[</span><span class=\"token builtin\">string</span><span class=\"token punctuation\">]</span><span class=\"token builtin\">int</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token function\">clickHandler</span><span class=\"token punctuation\">(</span>w http<span class=\"token punctuation\">.</span>ResponseWriter<span class=\"token punctuation\">,</span> r <span class=\"token operator\">*</span>http<span class=\"token punctuation\">.</span>Request<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\tname <span class=\"token operator\">:=</span> strings<span class=\"token punctuation\">.</span><span class=\"token function\">TrimPrefix</span><span class=\"token punctuation\">(</span>r<span class=\"token punctuation\">.</span>URL<span class=\"token punctuation\">.</span>Path<span class=\"token punctuation\">,</span> <span class=\"token string\">\"/click/\"</span><span class=\"token punctuation\">)</span>\n\n\tclickedMap<span class=\"token punctuation\">[</span>name<span class=\"token punctuation\">]</span><span class=\"token operator\">++</span>\n\n\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Fprintf</span><span class=\"token punctuation\">(</span>w<span class=\"token punctuation\">,</span> <span class=\"token string\">\"clicked by %s!\"</span><span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token function\">countsHandler</span><span class=\"token punctuation\">(</span>w http<span class=\"token punctuation\">.</span>ResponseWriter<span class=\"token punctuation\">,</span> r <span class=\"token operator\">*</span>http<span class=\"token punctuation\">.</span>Request<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\tw<span class=\"token punctuation\">.</span><span class=\"token function\">Header</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">Set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Content-Type\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"application/json\"</span><span class=\"token punctuation\">)</span>\n\n\tjson<span class=\"token punctuation\">.</span><span class=\"token function\">NewEncoder</span><span class=\"token punctuation\">(</span>w<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">Encode</span><span class=\"token punctuation\">(</span>clickedMap<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\tclickedMap <span class=\"token operator\">=</span> <span class=\"token function\">make</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">map</span><span class=\"token punctuation\">[</span><span class=\"token builtin\">string</span><span class=\"token punctuation\">]</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">)</span>\n\n\tmux <span class=\"token operator\">:=</span> http<span class=\"token punctuation\">.</span><span class=\"token function\">NewServeMux</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\tmux<span class=\"token punctuation\">.</span><span class=\"token function\">HandleFunc</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/click/\"</span><span class=\"token punctuation\">,</span> clickHandler<span class=\"token punctuation\">)</span>\n\tmux<span class=\"token punctuation\">.</span><span class=\"token function\">HandleFunc</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/counts/\"</span><span class=\"token punctuation\">,</span> countsHandler<span class=\"token punctuation\">)</span>\n\n\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Starting server at :8080\"</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">if</span> err <span class=\"token operator\">:=</span> http<span class=\"token punctuation\">.</span><span class=\"token function\">ListenAndServe</span><span class=\"token punctuation\">(</span><span class=\"token string\">\":8080\"</span><span class=\"token punctuation\">,</span> mux<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> err <span class=\"token operator\">!=</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">{</span>\n\t\tlog<span class=\"token punctuation\">.</span><span class=\"token function\">Fatal</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>click/{name} : ì‚¬ìš©ìë³„ í´ë¦­í•˜ëŠ” API</li>\n<li>counts : ì‚¬ìš©ìë³„ í´ë¦­ í˜„í™© í™•ì¸í•˜ëŠ” API</li>\n</ul>\n<h3>(2) Locust ì½”ë“œ ì‘ì„± ë° ì‹¤í–‰</h3>\n<p><em><strong>ì½”ë“œ ì‘ì„±</strong></em></p>\n<ul>\n<li>ê° í…ŒìŠ¤íŠ¸ ìœ ì €ëŠ” ì´ë¦„ì„ ê°–ì„ ìˆ˜ ìˆë„ë¡ ì½”ë“œ ì‘ì„±</li>\n<li>Alice, Bob, Charlie</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> locust <span class=\"token keyword\">import</span> HttpUser<span class=\"token punctuation\">,</span> task<span class=\"token punctuation\">,</span> between\n\nHOST<span class=\"token operator\">=</span><span class=\"token string\">\"http://localhost:8080\"</span>\nNAME_LIST <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"Alice\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Bob\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"Charlie\"</span><span class=\"token punctuation\">]</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">WebsiteUser</span><span class=\"token punctuation\">(</span>HttpUser<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    host <span class=\"token operator\">=</span> HOST\n    \n    <span class=\"token comment\"># ìœ ì € ì´ˆê¸°í™”ì‹œ í˜¸ì¶œ</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">on_start</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">assert</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>NAME_LIST<span class=\"token punctuation\">)</span> <span class=\"token operator\">></span> <span class=\"token number\">0</span>\n        self<span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> NAME_LIST<span class=\"token punctuation\">.</span>pop<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token decorator annotation punctuation\">@task</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">test</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">with</span> self<span class=\"token punctuation\">.</span>client<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token string\">'/click/'</span><span class=\"token operator\">+</span>self<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">,</span> name<span class=\"token operator\">=</span>self<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">,</span> catch_response<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> response<span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">)</span>\n\n    wait_time <span class=\"token operator\">=</span> between<span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><em><strong>ì‹¤í–‰ ë° í™•ì¸</strong></em></p>\n<p>locust í™•ì¸ (<a href=\"http://localhost:8089\">http://localhost:8089</a>)\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 30.37974683544304%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA60lEQVR42n1PwUoDMRTMJ2qh1O7Bg/cVtbb0LiLoqVeFUlbamxU/brtJ3kvGTHaz9CAuzM4kbybvPTNrFqiPT3j8eUP99YyLbY3J9haXiae7e1zv16g+l5nnzRJVs8LV4QH15hXv6w2OLzf4/qgwS/Xp7g5GVNC6E0IICKoDAnTgSISY6/99Vhw0KAyN3vscsM5BROAS866AZ+vsqL14dF0HccM5oe36oQxN7anNE7FIZoDMx0sDggE3NFXR0aMq/UYxwlBY23enjrFf7xzZnJg16r98Ma3NO8MfH8wriIyBc5RJGSy6eAuXhr90/7wpJXbcKQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"locust_img_06\"\n        title=\"\"\n        src=\"/static/2fa16767bfc004e85b5dfc8c2fbd90dc/f058b/locust_img_06.png\"\n        srcset=\"/static/2fa16767bfc004e85b5dfc8c2fbd90dc/c26ae/locust_img_06.png 158w,\n/static/2fa16767bfc004e85b5dfc8c2fbd90dc/6bdcf/locust_img_06.png 315w,\n/static/2fa16767bfc004e85b5dfc8c2fbd90dc/f058b/locust_img_06.png 630w,\n/static/2fa16767bfc004e85b5dfc8c2fbd90dc/40601/locust_img_06.png 945w,\n/static/2fa16767bfc004e85b5dfc8c2fbd90dc/78612/locust_img_06.png 1260w,\n/static/2fa16767bfc004e85b5dfc8c2fbd90dc/1f7be/locust_img_06.png 3196w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\ncounts API í™•ì¸ (<a href=\"http://localhost:8080/counts\">http://localhost:8080/counts</a>)\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 17.088607594936708%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAQklEQVR42q2MQQ6AIBDE+P9TDRqywIKG3Up4AtrLpHNoaK0jRUm5kqui082MXYKIkOLF0Bufh7uv/RQ8j8hTOn/wAolU7Y4eCiqVAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"locust_img_07\"\n        title=\"\"\n        src=\"/static/f8566546077067153f604d47f604e743/f058b/locust_img_07.png\"\n        srcset=\"/static/f8566546077067153f604d47f604e743/c26ae/locust_img_07.png 158w,\n/static/f8566546077067153f604d47f604e743/6bdcf/locust_img_07.png 315w,\n/static/f8566546077067153f604d47f604e743/f058b/locust_img_07.png 630w,\n/static/f8566546077067153f604d47f604e743/40601/locust_img_07.png 945w,\n/static/f8566546077067153f604d47f604e743/bb051/locust_img_07.png 1212w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<h2>ë§ˆì¹˜ë©°</h2>\n<hr>\n<p>Locustì˜ ê¸°ëŠ¥ì„ ê°„ë‹¨í•˜ê²Œ ì†Œê°œí•´ë³´ì•˜ìŠµë‹ˆë‹¤. <br>\nì†Œê°œí•œ ê¸°ëŠ¥ ì™¸ì—ë„ ë‹¤ì–‘í•œ ê¸°ëŠ¥ì„ ì œê³µí•˜ì—¬ ì—…ë¬´ì— ë§ì€ ë„ì›€ì´ ë˜ì—ˆìŠµë‹ˆë‹¤ <br>\n<a href=\"https://docs.locust.io/en/stable/\">ê³µì‹ í™ˆí˜ì´ì§€</a>ë¥¼ í™•ì¸í•´ì£¼ì‹œë©´ ë‹¤ì–‘í•œ ì¢‹ì€ ê¸°ëŠ¥ë“¤ì„ í™•ì¸í•´ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<br>\n<p>REFERENCE</p>\n<ul>\n<li><a href=\"https://docs.locust.io/en/stable\">https://docs.locust.io/en/stable</a></li>\n<li><a href=\"https://devocean.sk.com/internal/board/viewArticleForAjax.do?id=165998\">https://devocean.sk.com/internal/board/viewArticleForAjax.do?id=165998</a></li>\n</ul>","frontmatter":{"title":"Locustë¥¼ í™œìš©í•œ ë¶€í•˜ í…ŒìŠ¤íŠ¸ ì‘ì„±","date":"October 10, 2024","description":"Locustë¥¼ ì´ìš©í•˜ì—¬ ê°„ë‹¨í•˜ê²Œ ë¶€í•˜í…ŒìŠ¤íŠ¸ ì‘ì„±í•´ë³´ê¸°","author":"wonjs"}},"previous":{"fields":{"slug":"/opa/"},"frontmatter":{"title":"OPA(Open Policy Agent)ë¥¼ ì´ìš©í•˜ì—¬ JIRAì˜ ê¶Œí•œ êµ¬í˜„í•˜ê¸°"}},"next":null},"pageContext":{"id":"ed0bdd1d-ac7a-5245-a70b-7786b71a3b54","previousPostId":"f773079b-52cc-5d03-b130-9eeae28dcedc","nextPostId":null}},"staticQueryHashes":["2841359383"],"slicesMap":{}}