{"componentChunkName":"component---src-templates-blog-post-js","path":"/dmp-seglens/","result":{"data":{"site":{"siteMetadata":{"title":"SK플래닛 TECH TOPIC"}},"markdownRemark":{"id":"78bd5af1-fc26-5cea-a734-3a592eb61036","excerpt":"이 글은 SK플래닛 LLM 기반 DMP(Data Management Platform)인 \"Seg Lens\" 시스템 개발 사례를 소개합니다.\n\nSeg Lens는 마케터의 의도를 해석하고, 방대한 데이터 속에서 최적의 타겟 세그먼트를 찾아주는 지능형 마케팅 툴로, Segment + Lens의 합성어입니다. 여기서 Segment(세그먼트)는 DMP/CDP…","html":"<p>이 글은 SK플래닛 <strong>LLM 기반 DMP(Data Management Platform)인 \"Seg Lens\" 시스템</strong> 개발 사례를 소개합니다.\n<br/><br/>\nSeg Lens는 <strong>마케터의 의도를 해석하고, 방대한 데이터 속에서 최적의 타겟 세그먼트를 찾아주는 지능형 마케팅 툴</strong>로, <strong>Segment + Lens</strong>의 합성어입니다. 여기서 Segment(세그먼트)는 DMP/CDP에서 <strong>마케팅 타겟</strong>을 의미하며, Lens(렌즈)는 <strong>마케터가 데이터를 바라보는 관점</strong>을 의미합니다. 이번에 DMP에 LLM을 도입한 후 마케터의 관점을 더욱 반영하여 데이터를 해석하고, 의도를 바로 실행 가능한 세그먼트로 변환할 수 있게 되었습니다.\n<br/><br/>\n이 글의 주요 내용은 다음과 같습니다.</p>\n<ul>\n<li>DMP란 무엇인가요?</li>\n<li>기존 DMP의 세그먼트 생성 방식 및 한계</li>\n<li>DMP에 LLM 도입하기: 의미기반 탐색과 Seg Lens</li>\n<li>Seg Lens의 주요 기능 및 전체 구성도</li>\n<li>벡터 DB 구축: Semantic Expansion, LLM 도입, 데이터 접근 제어</li>\n<li>DIA(DMP Intelligence API)란 무엇인가요?</li>\n<li>DIA 구조 및 서비스 플로우</li>\n<li>맺음말</li>\n</ul>\n<hr>\n<h1>DMP란 무엇인가요?</h1>\n<p><strong>SK플래닛 데이터서비스개발팀</strong>에서는 마케터들이 데이터를 기반으로 더 효율적인 캠페인을 운영하는 <strong>DMP(Data Management Platform)와 CDP(Customer Data Platform)</strong> 두 플랫폼을 함께 개발 및 운영하고 있습니다.<br/>\n<br/>\nDMP와 CDP는 다양한 데이터 소스(웹/앱 로그, 광고 반응 데이터, 구매 이력 등)로부터 고객 행동 정보를 수집하고, 이를 바탕으로 특정 조건에 맞는 고객군(세그먼트)을 만들어 마케팅에 활용할 수 있도록 돕는 <strong>데이터 마케팅 플랫폼</strong>입니다. 즉,<br/></p>\n<p>| “원하는 조건을 입력하면, 그에 맞는 고객을 찾아주는 똑똑한 데이터 관리 시스템”</p>\n<p>이라고 할 수 있습니다.<br/></p>\n<hr>\n<h1>기존 DMP의 세그먼트 생성 방식</h1>\n<p>기존의 DMP에서는 마케터가 직접 데이터 조건을 입력해 세그먼트를 구성해야 했습니다.\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f1df869bade6396d0c7071a73dd67033/350de/image01.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAABYlAAAWJQFJUiTwAAACm0lEQVR42nVUaW/bMAz1//9h68dhGIp1XY91jtNkbiLfus3xUZHjpJkAQhf1eDxSheo91Y0j52eimeU05qv1WmK83K/1CmsNL6JsjDHkvZfLvu/p7u4L7Xa7Twas7mm/2xJOzFDT8XggpRp5WySwuDyKMYqjIQRWPIqR80igZmppW5XUDyMNQ09d15HWOnl47Bx9tJ4+Dg2pRnHofgFeG1lLOM3wKDmQ0oB1sd2+U1lWtNlseC5FECZChuX/Ce6vdcZxpOKtUuz2RONkadKOhtHIbGyU2booYmxY1hBtPN/75bxnjInDLqp6Imc1ec4ZLLRtK3POi/eBBm2ph0HryVorD6GTSYSnzrlECkomJxuK/TCIwsBz5NxUdUOPrxt6/vNOj78rmgwDThOTFpeyATgAJYd140/Jp5vjdVvT1/tH+v7wTN9+PFE/alGebzwQljcbRZ5DNmxZGDvfylTuFd0/vdFP9vL+1xt1AETpsD7CR3ldAO4PXNjRL+VyPd4PrYT8Uu7o4aWkph/lHEC5ZC4Al5BZkAcIkg3ryGE7aGbUikFj4ZWT+do49jBS/FX8MDhhE8kGGZlFsKYZAJIJSKwOpwo4R7UA7jjk4NkDl0oC3sFLgOMBPEON4Qwdghl6AMzM5m4SQNWhV7mV5vjpV0keAXxkgOnicbqPK8E5Qj5wARsOmcnygd3mFhbJ+wDFdJZ08nnWSWIsomHA11KR0SnxhoG7DoXNheq5xVhJc5egtbyPkmfn0xq6iawoBrBHKoqqaii49EX1/BU1TSPEGKMlNDCqulHyM89BwkeeQRq+LoDkMpLW2zPL7lTYUEAvK6XSj3Jqv3gjt3nAaGrFkEjZ1gN59lBrk+rPpDnXIjzBRwtD+Wx9v96D+X8Fdhktq6H3xwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image01\"\n        title=\"\"\n        src=\"/static/f1df869bade6396d0c7071a73dd67033/f058b/image01.png\"\n        srcset=\"/static/f1df869bade6396d0c7071a73dd67033/c26ae/image01.png 158w,\n/static/f1df869bade6396d0c7071a73dd67033/6bdcf/image01.png 315w,\n/static/f1df869bade6396d0c7071a73dd67033/f058b/image01.png 630w,\n/static/f1df869bade6396d0c7071a73dd67033/40601/image01.png 945w,\n/static/f1df869bade6396d0c7071a73dd67033/350de/image01.png 998w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span>\n(SKP DMP 조건 생성 화면)</p>\n<p>예를 들어, <br/></p>\n<ul>\n<li>최근 7일 이내 앱을 방문한 사용자</li>\n<li>장바구니에 상품을 넣었지만 구매하지 않은 사용자</li>\n<li>30대 여성 중 특정 카테고리를 자주 조회한 고객</li>\n</ul>\n<p>이러한 조건을 설정하려면 마케터가 데이터 구조를 이해하고 논리적으로 조건를 구성할 줄 알아야 했습니다. <br/>\n아무래도 비전공자나 실무 마케터에게는 진입 장벽이 높을 수밖에 없었습니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/6ad6c242479d6879eb1832e30db2f0e8/37114/image02.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 48.10126582278481%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAACQklEQVR42j2SWU8bQRCE/f8f8hPyihBRECHhDgkYMBhjwBfg9V72XrP32rs2iiBf2ouUhxnNTHdX11R1o9PpcNG85L7b5fHhAe3lBV2bYBkmKggwJhNu27dcXbawTRPf85jZNuMXDduy6rsx0RkNR3iOQ0MFLidHO8SRIkkyPM/lsnmEro8JBDBJMzRtxN7uBnGSEMeykoiDH5tYlk4q8dHwkfOzQ5QKaITdY9yzTdLebwLXIfRdlto1pavh+gFx4JFoHZzuAflMmgijhTvG7u7L/alumppD5i/XRFLbyEdXGF8+ycMNaZaRKp+VeU/pG3iBIjDHuK3vWKdbhL0mjqGhuieYPzdR7X0cYZnZzxRSvybTSOIIY3hPqBQTXccUnebVkiwvaq2UCpkXcxzXJYoiQlmZNJ5Op6RJTBRG5BLPikXNtuG5Hv3+gG872wwGfVwp7LTbYtA9VVWhTzROjg9rg9I05aZ1Rb/3WIOvTbnr3NKTXHc2w5Pahu/5ZIniqddiMc95e3vnrrXH8OGc978QKZenh0uWVclqtaJ5ssXzoEWeFbUJo941+rgv7NQH4EwYzj2D+GaXeWCzKCvCq23C2z2q1z8U9hOJxKpUkec5aVvyRhdimKo1K3qnFGKaL4D+GtCR2SnzVEywqBYFZVni/drAv/hKJYyqQmJqyutqSZElmHufCcQkXzSPo5BVOGWZ+AIYfDBcb+tvqzCuRVWSaFumGGLV5/VboKL/MWsyZmrJBMj4rIc6SlIxKuEDx+MfE3zTN6/RDtkAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image02\"\n        title=\"\"\n        src=\"/static/6ad6c242479d6879eb1832e30db2f0e8/f058b/image02.png\"\n        srcset=\"/static/6ad6c242479d6879eb1832e30db2f0e8/c26ae/image02.png 158w,\n/static/6ad6c242479d6879eb1832e30db2f0e8/6bdcf/image02.png 315w,\n/static/6ad6c242479d6879eb1832e30db2f0e8/f058b/image02.png 630w,\n/static/6ad6c242479d6879eb1832e30db2f0e8/40601/image02.png 945w,\n/static/6ad6c242479d6879eb1832e30db2f0e8/78612/image02.png 1260w,\n/static/6ad6c242479d6879eb1832e30db2f0e8/37114/image02.png 2300w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span>\n(조건 예시)</p>\n<hr>\n<h1>기존 DMP의 한계 (마케터 관점)</h1>\n<p>마케터들이 실제로 겪던 주요 문제점은 러닝커브 외에도 다음과 같았습니다.</p>\n<h2>1. 시간과 노력의 과다 소모</h2>\n<p>세그먼트 조건을 수동으로 설정해야 했으므로, 심지어 한 번의 세그먼트 생성에 평균 2~3시간이 소요되기도 했습니다. 그만큼 휴먼 에러 발생 가능성도 높았습니다.</p>\n<h2>2. 방대한 데이터지만 낮은 접근성</h2>\n<ul>\n<li>DMP: 세그먼트 8,760건 / 트레잇 카테고리 57,829건</li>\n<li>CDP: 세그먼트 5,090건 / 트레잇 카테고리 26,873건</li>\n</ul>\n<p>데이터는 많지만 필요한 정보를 빠르게 찾는 효율은 매우 낮았습니다.<br/>\n결국 “데이터는 많지만 활용성이 떨어지는” 역설적인 상황이 자주 발생했습니다.<br/></p>\n<h2>3. 직관적 탐색의 어려움</h2>\n<p>‘유사’, ‘관련’ 조건을 직관적으로 찾기 어렵고, 키워드 기반 검색만으로는 의도한 조합을 떠올리기가 쉽지 않았습니다.</p>\n<h2>4. 비효율적인 리소스 구조</h2>\n<p>세그먼트 기획보다 데이터 탐색에 더 많은 리소스가 쓰이는 구조였습니다.<br/>\n결국 마케팅 전략 수립보다 쿼리 작성과 검색에 더 많은 시간이 소모되었습니다.<br/><br/></p>\n<hr>\n<h1>복잡한 데이터 환경이 문제를 가중시킨다</h1>\n<p>DMP/CDP는 다양한 회사, 다양한 서비스 등의 고객 행태 데이터를 수십 개의 데이터 소스에서 수집하고 사용합니다.<br/>\n이 과정에서 세그먼트, 트레잇, 데이터 소스 속성(Attribute) 등이 얽히며 데이터 구조는 점점 더 복잡해집니다.<br/>\n결국 마케터가 이 모든 데이터를 완벽히 이해하고 활용하는 것은 현실적으로 불가능했으며, 그 결과 다음과 같은 문제가 반복됩니다.</p>\n<ul>\n<li>수동 세그먼트 설정에 과도한 시간 소요</li>\n<li>숨겨진 데이터의 미활용</li>\n<li>놓치는 타겟 조합 발생</li>\n</ul>\n<hr>\n<h1>그래서 필요한 것은?</h1>\n<p>이제는 더 이상 검색창에 조건을 하나하나 입력하는 방식으로는 한계가 분명합니다. 마케터가 자연스럽게 말하듯 입력하면, 시스템이 그 의도를 이해하고 세그먼트를 찾아주는 방식, 바로 <strong>LLM 기반 자연어 접근 방식</strong>이 필요했습니다.<br/>\n<br/></p>\n<hr>\n<h1>왜 LLM인가?</h1>\n<p>기존 DMP는 데이터는 많지만, 마케터의 의도(Intention) 를 이해하지 못했습니다. <br/>\n예를 들어 마케터가<br/></p>\n<p>| “서울에 사는 30대 혹은 40대 여성에게 노트북 추천 캠페인을 하고 싶어요.”</p>\n<p>라고 입력한다고 해 봅시다.<br/></p>\n<p>기존 DMP는 이 문장을 이해하지 못합니다.<br/>\n마케터는 결국 아래처럼 조건을 <strong>일일이</strong> 입력해야 했습니다:<br/></p>\n<ul>\n<li>나이: 30~49</li>\n<li>성별: 여성</li>\n<li>지역: 서울</li>\n<li>관심 제품: 노트북</li>\n</ul>\n<p>하지만 LLM(Large Language Model) 은 문장의 의미를 파악하고,<br/>\n그 안의 논리적 관계(AND, OR, NOT 등)를 <strong>모델이 스스로 해석해 구조화할 수 있습니다.</strong> <br/>\n<br/>\n<strong>즉, 마케터의 “생각”을 바로 “데이터 조건”으로 그대로 바꿀 수 있는 길이 열린 것입니다.</strong></p>\n<hr>\n<h1>의미 기반 탐색(Semantic Search)의 필요성</h1>\n<p>마케터가 데이터를 다룰 때 필요한 것은 단순한 키워드 검색이 아닙니다.<br/>\n그들이 원하는 것은 <strong>의미 기반 탐색(semantic search)</strong> 입니다.<br/>\n<br/>\n예를 들어,<br/></p>\n<p>| “서울 지역의 고가 IT제품 관심 고객”</p>\n<p>이라는 의도에는 단순히 ‘서울’, ‘IT’, ‘고가’ 키워드만 있는 게 아닙니다.<br/>\n‘구매력’, ‘브랜드 선호도’, ‘최근 검색 패턴’ 같은 맥락적 의미가 담겨 있죠.<br/>\n<br/>\n마케터는 자연어로 의도를 설명하기만 하면,<br/>\nLLM이 이를 구조화된 데이터 조건으로 변환하는 방식이 필요하였습니다. <br/>\n<br/></p>\n<hr>\n<h1>Seg Lens (revisited)</h1>\n<p>이제 Seg Lens를 다시 한번 설명드리면, <br/></p>\n<p>“마케터의 의도를 해석하고, 방대한 데이터 속에서 최적의 타겟 세그먼트를 찾아주는 지능형 마케팅 툴\" 입니다. <br/>\nSeg Lens는 Segment + Lens의 합성어로, 여기서 Segment(세그먼트)는 DMP/CDP에서 마케팅 타겟을 의미하며, Lens(렌즈)는 마케터가 데이터를 바라보는 관점을 의미합니다.<br/>\n<br/>\n즉, Seg Lens는 <strong>LLM 기술을 활용해서 마케터의 관점에서 데이터를 해석하고, 의도를 바로 실행 가능한 세그먼트로 변환하는 시스템</strong>입니다.<br/></p>\n<hr>\n<h1>Seg Lens의 주요 기능</h1>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/e883b02507be8ff97eb278588cca8da2/e92cd/image03.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 80.37974683544303%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABYlAAAWJQFJUiTwAAABd0lEQVR42p2TyY7CMBBE8/8/xZkD4orEJpZhDZCQzVlMj1+PHMEIZgiWipikXamu6gRxWkkYGTmdQimSL6nrSm632wO6rKAqjZgidzCS5w5F8UCUJIl7Sf0+YeGI6rqRpmnEWofG6r6qKi0YjUaSZZnufyt/hoDiKIokjuMWaZpKWZZijJHr9ersOEkYhlqH4megjnNBnudaeLlclOx8PmvBcDhUdRAfj0cl5ADKufcMhbMrQMV+v5fNZiPb7VYPc282m8lisdD2+W+t/dc/XhbAPJ/PVc14PFYcDgdB+b1v76yWEHXL5VJ2u52qZO/TRRn4Cc3+CbjUQw7TP0S0iSIfCiC4+6BeQT3kBw9JcjAYSL/fV+l+bLqstuXVaqXeoZA9IPGuX4kSopBRIV0PHuDf/TiAV+PiQdvtYDOHXGm91+vpHqMh94TeildQQj+HtEnC6/VavYSYZD/yEO+Yw8lkokAdNvhv+KNQptOpXhkbRsQPdVfCb09A2yUIz+jPAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image03\"\n        title=\"\"\n        src=\"/static/e883b02507be8ff97eb278588cca8da2/f058b/image03.png\"\n        srcset=\"/static/e883b02507be8ff97eb278588cca8da2/c26ae/image03.png 158w,\n/static/e883b02507be8ff97eb278588cca8da2/6bdcf/image03.png 315w,\n/static/e883b02507be8ff97eb278588cca8da2/f058b/image03.png 630w,\n/static/e883b02507be8ff97eb278588cca8da2/40601/image03.png 945w,\n/static/e883b02507be8ff97eb278588cca8da2/78612/image03.png 1260w,\n/static/e883b02507be8ff97eb278588cca8da2/e92cd/image03.png 1778w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span>\n(DMP/CDP Seg Lens 화면)</p>\n<p>Seg Lens는 LLM의 의미 이해 능력을 중심으로 다음과 같은 핵심 기능들을 제공합니다.</p>\n<h2>1. 자연어 세그먼트 추출</h2>\n<p>마케터의 자연어 질의를 분석해 세그먼트 조건으로 구조화합니다. <br/>\n복잡한 논리(AND, OR, NOT)도 자동 반영해 줍니다.<br/></p>\n<h2>2. 이미지 분석 기능</h2>\n<p>이미지 업로드를 통해 텍스트 + 시각 정보를 결합한 분석이 가능합니다.<br/>\n예를 들어 “이 제품에 관심 있을 고객을 찾아줘.”라고 입력하면, LLM이 이미지의 맥락을 이해하고 고객군을 추천합니다.<br/></p>\n<h2>3. 키워드 확장 및 유사 세그먼트 제안</h2>\n<p>입력된 세그먼트를 기반으로 관련 키워드나 유사 고객군을 자동 제안합니다.<br/>\n즉, 마케터가 미처 생각하지 못한 연관 세그먼트를 발견할 수 있습니다.<br/></p>\n<h2>4. 벡터 검색 기반 의미 탐색</h2>\n<p>LLM이 생성한 벡터 임베딩(embedding) 을 활용해, 의미적으로 유사한 세그먼트를 빠르게 탐색합니다.<br/>\n단순 키워드 일치가 아닌, 맥락적 유사성(Contextual Similarity)에 기반한 탐색이 가능합니다.<br/></p>\n<h2>5. 결과 필터링</h2>\n<p>마케팅 목적(예: 리타겟팅, 신규 유입, 브랜드 인지도 강화 등)에 따라 LLM이 결과를 재구성하고, 가장 적합한 세그먼트만 선별해 제공합니다.</p>\n<hr>\n<h1>Seg Lens 전체 구성도</h1>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c801c59dc9879eefbd05507c7b4a5cfb/227ba/image04.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.32911392405063%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABJElEQVR42p2SW4uDUAyE/f8/zgefBFG8QNXWqtV6r035sgSELYtsYBhO9EwmyXHknzFNkyzL8ivvnLm877vM8yzruqoIXNe1dF0nj8dDmqZRjON4XhAR4v1+K4hhGKSqKrndbirY9704r9dLtm1T2I8IHHMAJwjgCgYUeT6f6gwm57Rtq/bhsiy1Imf4fr8rX69XSdNU8jyXKIrkcrmoIwrxDw6BtkwCMRJcYFZFUegZBlQOgkB83xfXdZUpigAFPM+TJEnUpYNtA+0TMFukkOUQDsNQBQAjYDQ4xZQVcP7aKu3SFmcKIH6cOQI4w30cxz8Oj0K2FJzhiLmxOcK2fAyeUJZlKgjrUr4J2uYQg+0h2zu0twj4zjfjry3Tjj0Dm+HZ+AD4MlXb7F9UJwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image04\"\n        title=\"\"\n        src=\"/static/c801c59dc9879eefbd05507c7b4a5cfb/f058b/image04.png\"\n        srcset=\"/static/c801c59dc9879eefbd05507c7b4a5cfb/c26ae/image04.png 158w,\n/static/c801c59dc9879eefbd05507c7b4a5cfb/6bdcf/image04.png 315w,\n/static/c801c59dc9879eefbd05507c7b4a5cfb/f058b/image04.png 630w,\n/static/c801c59dc9879eefbd05507c7b4a5cfb/227ba/image04.png 769w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Seg Lens는 아래와 같은 컴포넌트로 구성되어 있습니다.</p>\n<p>(1) 벡터 데이터베이스(Vector DB)</p>\n<ul>\n<li>DMP/CDP의 데이터 조건을 embedding하여 사용자 질의와 유사한 조건을 검색하기 위한 DB</li>\n</ul>\n<br/>\n<p>(2) DIA* 모듈 </p>\n<ul>\n<li>LLM Service: OpenAI GPT-4 기반 세그먼트 추출</li>\n<li>Vector Service: 3,000 차원의 Vector DB 유사도 기반 검색</li>\n<li>Keyword Service: 정확한 매칭 및 스코어링</li>\n</ul>\n<p>(* DIA: DMP Intelligence API, 이후 설명합니다)</p>\n<hr>\n<h1>벡터 데이터베이스(Vector Database)란?</h1>\n<p>벡터 데이터베이스(이하 벡터DB)는 고차원 벡터 데이터를 효율적으로 저장하고 검색할 수 있는 특화된 데이터베이스입니다.<br/>\n기존의 관계형 데이터베이스가 정확한 키워드 매칭에 최적화되어 있다면, 벡터DB는 맥락적 유사도를 기반으로 한 검색에 특화되어 있습니다.<br/>\n<br/></p>\n<hr>\n<h1>벡터 임베딩(Vector Embedding)의 개념과 작동 원리</h1>\n<p>벡터 임베딩(Vector Embedding)은 비정형 데이터(텍스트, 이미지, 음성 등)를 정형화된 숫자의 배열 형태로 변환하는 과정입니다.\n이 과정을 통해 컴퓨터가 이해할 수 있는 수학적 표현으로 데이터를 변환합니다. <br/>\n벡터 임베딩의 작동원리에 대해 간단히 살펴보면 다음과 같습니다. <br/></p>\n<p>(표)</p>\n<table>\n<thead>\n<tr>\n<th>구분</th>\n<th>내용</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>원본 텍스트</td>\n<td>자전거에 관심있는 20대 여성</td>\n</tr>\n<tr>\n<td>임베딩된 텍스트</td>\n<td>[0.4, 0.6, -0.3, 0.8, -0.2, 0.1, 0.9, -0.4, ...]</td>\n</tr>\n</tbody>\n</table>\n<p>이 문장은 임베딩 모델을 통해 다차원의 벡터로 변환됩니다. 이 벡터의 각 숫자는 문장의 의미, 맥락, 주제 등을 수학적으로 표현한 값입니다.<br/>\n즉, 언뜻 보기에 단순한 숫자 배열이지만, 벡터 공간에서는 문장의 의미적 위치를 나타내는 “좌표”가 됩니다.<br/></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/78905c7a54c053e2fe3f552db376b330/2e195/image05.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 33.54430379746836%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABBklEQVR42oVRO1LFMAz0uTkEN+ACtED7OgqoaCiZzKNIiElIPE7i+LtIJs4ECp7GmsSSdr2SBA5mfUSICUiJTsIl4wrn/a+YOEtFRAGRCBwRPr+84vbhBNkPCITgB3wICOQx8oMx1/I/27Is2dMmQtw9vUEbh8UFIk64Pz3i6voG1fkdljDT6jHqGdM0YTUGejZgLucd1KKgtMq50pHILW5GAmFWi1Z+QhHwv6ZD9Oj0Bwb9ldWXCYkjyFGP7CECl0YYYyCVK4yZMQ4jrLUb4R9kmcUxnraZlRh/nXM/94Sc87Qcjgkp5V7Iibqu0bYtuq7bCbXWqKoKXFuUlIU0TYO+7/ctfwOabSKcVs2jxwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image05\"\n        title=\"\"\n        src=\"/static/78905c7a54c053e2fe3f552db376b330/f058b/image05.png\"\n        srcset=\"/static/78905c7a54c053e2fe3f552db376b330/c26ae/image05.png 158w,\n/static/78905c7a54c053e2fe3f552db376b330/6bdcf/image05.png 315w,\n/static/78905c7a54c053e2fe3f552db376b330/f058b/image05.png 630w,\n/static/78905c7a54c053e2fe3f552db376b330/2e195/image05.png 782w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<br/>\n임베딩의 핵심은 “의미가 비슷한 문장은 벡터 공간에서도 서로 가깝게 위치한다”는 것입니다.<br/>\n<br/><br/>\n예를 들어 아래와 같은 문장들을 임베딩 벡터로 변환했다고 가정하겠습니다.<br/>\n<ul>\n<li>유사_텍스트1 = \"사이클링을 좋아하는 젊은 여성\"  # → 유사한 벡터값 <br/></li>\n<li>유사_텍스트2 = \"자전거 타기를 즐기는 20대\"      # → 유사한 벡터값 <br/></li>\n<li>유사_텍스트3 = \"자동차에 관심있는 30대 남성\"    # → 다른 벡터값 <br/></li>\n</ul>\n<br/>\n유사_텍스트1과 유사_텍스트2는 원본 문장 “자전거에 관심있는 20대 여성”과 유사한 의미를 가지고 있으므로, 벡터 공간에서도 서로 가까운 위치에 존재합니다. 반면 유사_텍스트3은 “자동차”와 “남성”, “30대” 등 다른 주제를 포함하고 있기 때문에 원본 문장과의 벡터 거리가 멀어집니다.<br/>\n<br/>\n이처럼 임베딩은 단어 하나하나를 따지는 것이 아니라, 문장의 전체적인 의미와 맥락을 숫자로 표현함으로써 <br/>\n의미 기반 검색(Semantic Search), 추천 시스템, 유사도 분석 등에 활용됩니다.<br/><br/>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/9b9cd24d336d9c3fcbf23b0fa80e5de3/71c1d/image06.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 66.45569620253164%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAACA0lEQVR42l2S227aQBCGef8XqlpFSSpVqqoqAVISwMbG9tpe7669Z68PLCZDaAOqNBdzMd8c/vlnx9FcYzDTaHqnmKQbnCpJj6M9x2AkJ1kW53kCoSU99ArqZ7fwYdCng21U/ZJFVBCGESK5c3JoxeJl8eXu7tvD/d3j48tq6SyfDvYv7EftgTz1O5K/5XtoPPZasnKN4hR4w3snlaCXGJwE8t9k2Na7sdM52sf7sG9FrahzglXo2JuIFUG2my+ea1ZOH9tdDjnD54GHNqCokXQZbVZxYC1nip5G29CiUSyty5QWX/88a11Po/W9ho6XfQE2ACf1uQ6SiKB5ugPy+3a13YdhmZ58t6my5yIqYYVgLST71GgGC1yG14p1rRg71TSV1k3fqSSLiro0TnjIWc4EgYN/hG//wWceMKHrtzJpMAqLZItinMWcFJBIxdZVplouTA2N/BUe4bdWt9yYJiRoUyZRvicVQiz3nfatvH9drqJty8nP4DWAK47OnzUzV7WHTtWSPqwW4IGneOtUPfVmi1PECsQxJJMVuEwLcIiglz9dYYgSZ05Srtg4GDCTEoQIwiVb5hFucExzLMihlVbdCjaai+BPaAdmmqNojZOTd0Ovf6PQmgaqwSHwBfjlNJhbR84+XQ0tPhxr4U+g0K800JYLXuE8qSTJeXXyLRT4G/4d/VPU6FxuUDcAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image06\"\n        title=\"\"\n        src=\"/static/9b9cd24d336d9c3fcbf23b0fa80e5de3/f058b/image06.png\"\n        srcset=\"/static/9b9cd24d336d9c3fcbf23b0fa80e5de3/c26ae/image06.png 158w,\n/static/9b9cd24d336d9c3fcbf23b0fa80e5de3/6bdcf/image06.png 315w,\n/static/9b9cd24d336d9c3fcbf23b0fa80e5de3/f058b/image06.png 630w,\n/static/9b9cd24d336d9c3fcbf23b0fa80e5de3/40601/image06.png 945w,\n/static/9b9cd24d336d9c3fcbf23b0fa80e5de3/78612/image06.png 1260w,\n/static/9b9cd24d336d9c3fcbf23b0fa80e5de3/71c1d/image06.png 1536w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>DMP/CDP에서는 <strong>Elasticsearch의 Dense Vector 기능</strong>을 활용하여 의미적 유사도 기반 검색을 구현했습니다.</p>\n<hr>\n<h1>벡터 데이터베이스(Vector Database)의 검색 방식</h1>\n<p>벡터 DB에서 검색에는 <strong>코사인 유사도(Cosine Similarity)</strong> 를 사용합니다. <br/>\n이는 두 벡터가 이루는 각도를 기준으로 의미적 유사도를 측정하는 방법으로, 벡터의 크기(길이)에 영향을 받지 않으면서 <strong>방향</strong>만으로 의미의 유사함을 비교할 수 있습니다. <br/>\n<br/>\nElasticsearch는 이 코사인 유사도를 활용해 쿼리 벡터와 인덱스에 저장된 벡터들 사이의 유사도를 계산하고, <br/>\n<strong>Top-K 검색(Top-K Retrieval)</strong> 방식으로 가장 유사한 K개의 결과를 빠르게 반환합니다. <br/>\n<br/>\n이 문장은 임베딩 모델을 통해 다차원의 벡터로 변환됩니다. 이 벡터의 각 숫자는 문장의 의미, 맥락, 주제 등을 수학적으로 표현한 값입니다. 즉, 언뜻 보기에 단순한 숫자 배열이지만, 벡터 공간에서는 문장의 의미적 위치를 나타내는 <strong>좌표</strong>가 됩니다.<br/></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">\"knn\": {\n  \"field\": \"my_vector\", #vector가 저장된 필드 명\n  \"query_vector\": query_vector, # 검색하고자 하는 임베딩 백터\n  \"k\": k, # 반환할 이웃의 목표 개수\n  \"num_candidates\": self.MAX_CANDIDATES, # 탐색할 후보개수\n  \"filter\": { ... } # 검색에 추가 조건 \n}</code></pre></div>\n<hr>\n<h1>Seg Lens 벡터 DB 구축(1) - Semantic Expansion으로 벡터검색 정확도 높이기</h1>\n<p>일반적으로 벡터 검색(Vector Search)은 사용자가 입력한 키워드를 임베딩하여 데이터와의 유사도를 계산합니다. 하지만 단순한 키워드만 임베딩할 경우, 의미적인 맥락(context)이 충분히 반영되지 않아 정확도가 떨어질 수 있습니다.\n<br/>\n예를 들어, “은행”이라는 단어를 그대로 임베딩하면 기계는 금융기관인지 은행나무인지 잘 구분하지 못합니다. 이런 문제는 짧은 키워드에 문맥 정보가 부족하기 때문에 발생합니다.<br/>\n<br/>\n최근의 임베딩 모델은 대부분 문장 단위 또는 청크(chunk) 단위로 학습되어 있습니다. 문맥이 풍부한 문장을 임베딩할수록 모델이 의미를 더 잘 파악하며, RAG(Retrieval-Augmented Generation) 성능 또한 향상됩니다.<br/>\n그래서 최신 DMP/CDP 시스템에서는 단순 키워드 기반의 벡터화 대신, <strong>의미 확장(Semantic Expansion) 단계</strong>를 추가합니다. 사용자의 입력을 문장 단위로 확장한 후 임베딩함으로써, <strong>훨씬 더 정확한 검색과 추천이 가능</strong>하게 되었습니다.<br/></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/8ed6dea8a56a07ecd6a006ccebb7b2cf/6f464/image07.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.43037974683544%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABgUlEQVR42m2S164CMQxE9/9/DB7ofRG9l6V32MVwRvJK6N5IoyR2Mh6X4Hg82nq9tuv1atvt1na7nTCfzy2OY3u/35YkSQru/8H9QRRFNh6PRdbv93WG8H6/2/P5FCB+vV4psD0eD4F37CL8Egf+CIXZbNYymYw1m02r1WqWy+WsWCzqXCqVrFKpyFYul61QKOgdmWw2GxGyAuSyLpeL9Xo9qVwulyoDO8oXi4XOs9nMptOpzpDg2+/3EsSCKyU8n89S02g0ROqfCTIcDnWfTCYi544P2+12M18/hDhIIQxDG41G1u12dSYA58FgYJ1OR8FarZZ27NTQyX4I6TZ1qVaragwpA2qEMtJEHXeUsa9WK4Gm/FFI5+r1uqK3223t3ggHGRAQ1fl8Xs3BTmBqSh9SwtPpJGVEPxwOCkDneURaPh7YADUHNAQfNvxB4k35fkQRjSEq9UOxjwzlwOeqCO7pEjxN2SccI0OOQmpFCtSNWnHH7sDH8PMeUkYHsjhO7APfCTl3XW8nwwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image07\"\n        title=\"\"\n        src=\"/static/8ed6dea8a56a07ecd6a006ccebb7b2cf/f058b/image07.png\"\n        srcset=\"/static/8ed6dea8a56a07ecd6a006ccebb7b2cf/c26ae/image07.png 158w,\n/static/8ed6dea8a56a07ecd6a006ccebb7b2cf/6bdcf/image07.png 315w,\n/static/8ed6dea8a56a07ecd6a006ccebb7b2cf/f058b/image07.png 630w,\n/static/8ed6dea8a56a07ecd6a006ccebb7b2cf/40601/image07.png 945w,\n/static/8ed6dea8a56a07ecd6a006ccebb7b2cf/78612/image07.png 1260w,\n/static/8ed6dea8a56a07ecd6a006ccebb7b2cf/6f464/image07.png 1464w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<hr>\n<h1>Seg Lens 벡터 DB 구축(2) - 비용 및 성능을 고려한 LLM 모델 사용 (실시간 vs BATCH API)</h1>\n<p>DMP/CDP 에서는 5만 개가 넘는 항목에 대해 의미확장과 embedding을 각각 수행합니다. 최신 데이터를 실시간으로 요구되지 않는 상황에서는 batch API 를 사용하는것이 시간과 비용을 아끼는 방법이 될 수 있습니다.<br/></p>\n<h2>1. 비용 효율성</h2>\n<p>50,000개의 세그먼트를 처리한다고 가정해보겠습니다.<br/></p>\n<p><strong>1) 실시간 API 사용 시</strong></p>\n<ul>\n<li>비용: $50 (50,000 × 500 tokens × $0.002 / 1,000)</li>\n<li>처리 시간: 30-60분 (네트워크 지연 + 재시도 고려)</li>\n<li>API 호출 제한: 3,500 requests/minute</li>\n</ul>\n<p><strong>2) Batch API 사용 시</strong></p>\n<ul>\n<li>비용: $25 <strong>=> 50% 비용 절감</strong></li>\n<li>처리 시간: 2-4시간 <strong>=> 일관성 유지됨</strong></li>\n<li>사용자 개입: 불필요 <strong>=> 완전 자동화</strong></li>\n</ul>\n<br/>\n<p>연간 약 $9,000의 <strong>비용 절감 효과</strong>까지 얻을 수 있었습니다.<br/>\n<br/></p>\n<h2>2. 안정성과 신뢰성</h2>\n<p>실시간 API를 사용할 때 가장 큰 문제는 Rate Limit과 네트워크 불안정성이었습니다.<br/></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Error: Rate limit exceeded. Try again in 60 seconds.\nError: Too many requests. Please slow down.\nError: API quota exceeded for the day.</code></pre></div>\n<p>이러한 오류들이 발생하면 전체 프로세스가 중단되고, 복잡한 재시도 로직을 구현해야 했습니다.<br/>\n반면 Batch API는 OpenAI 서버에서 자동으로 부하를 분산하므로, 개별 요청이 실패하더라도 <strong>전체에는 영향을 주지 않는다</strong>는 안정성 측면의 장점을 가지고 있습니다. <br/>\n<br/></p>\n<h2>3. 운영 효율성</h2>\n<p>실시간 API는 24시간 모니터링이 필요하였지만, <strong>Batch API는 엔지니어에게 모니터링 피로도를 상대적으로 줄여 주었습니다.</strong> 그리고 한국시간의 업무시간에서는 Batch API가 24시간까지 걸리지 않고, 대부분 1-2시간 내로 결과를 전달해주어서 모니터링하기 용이한 부분이 있었습니다(정형화할 수는 없지만 북미 사용자의 사용량이 많은 시간대를 피하는 것도 하나의 팁이 될 수 있습니다).<br/><br/>\n참고로 Batch API의 진행 상태는 각 LLM 서비스의 대시보드에서도 접근하여 모니터링할 수 있습니다.\n<br/></p>\n<hr>\n<h1>Seg Lens 벡터 DB 구축 (3) - Vector DB 생성 프로세스</h1>\n<p>7단계 자동화된 파이프라인을 통해 입력된 메타 정보를 확인 및 임베딩 후, Elasticsearch에 bulk로 업로드합니다. <br/></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">graph TD\n    A<span class=\"token punctuation\">[</span><span class=\"token number\">1.</span> 서비스 DB에서 세그먼트<span class=\"token operator\">/</span>Trait 조건 추출<span class=\"token punctuation\">]</span> <span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">></span> B<span class=\"token punctuation\">[</span><span class=\"token number\">2.</span> 의미 확장을 위한 LLM 배치 요청문 생성<span class=\"token punctuation\">]</span>\n    B <span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">></span> C<span class=\"token punctuation\">[</span><span class=\"token number\">3.</span> LLM에 의미확장용 Batch API 요청과 응답<span class=\"token punctuation\">]</span>\n    C <span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">></span> D<span class=\"token punctuation\">[</span><span class=\"token number\">4.</span> 임베딩 벡터 요청문 생성<span class=\"token punctuation\">]</span>\n    D <span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">></span> E<span class=\"token punctuation\">[</span><span class=\"token number\">5.</span> 임베딩 벡터 생성용 Batch API 요청과 응답<span class=\"token punctuation\">]</span>\n    E <span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">></span> F<span class=\"token punctuation\">[</span><span class=\"token number\">6.</span> Elasticsearch 데이터 변환<span class=\"token punctuation\">]</span>\n    F <span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">></span> G<span class=\"token punctuation\">[</span><span class=\"token number\">7.</span> 임베딩 벡터 저장<span class=\"token punctuation\">]</span></code></pre></div>\n<p>각 프로세스별 예시는 다음과 같습니다. </p>\n<h2>1. DMP/CDP의 세그먼트/Trait 조건 추출 예시</h2>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">s_10014,segment,표준 세그먼트 > 쇼핑 > 조회상품 (90일) > 자동차 > SUV,SUV,SUV  \ns_10015,segment,내부용 세그먼트 > (구)쇼핑-브랜드 세그먼트 > (구)조회상품 > 브랜드 > 차량용품 > 벤츠,벤츠,Benz...</code></pre></div>\n<h2>2. 의미 확장을 위한 LLM Prompt 예시</h2>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">‘표준 세그먼트 > 쇼핑 > 조회상품 (90일) > 자동차 > 소형차’는 세그먼트입니다. \n이 세그먼트를 DMP 시스템의 조건으로 활용하거나, 타겟 광고/추천을 위한 임베딩 벡터로 활용하려고 합니다. \n단, 세그먼트의 내용이 지역명, 성별, 연령대일 경우 동의 세그먼트로만 확장해 주세요. \n이 세그먼트의 의미를 다음과 같은 방식으로 확장해 주세요: \n- 동의 세그먼트 (유사한 사용자 행동/관심) \n- 상위 세그먼트 (더 넓은 관심 또는 범주) \n- 하위 세그먼트 (더 구체적인 조건의 사용자 집단) \n- 연관 세그먼트 (다른 플랫폼이나 행동에서 의미적으로 연관 있는 세그먼트) \n결과는 동의, 상위, 하위, 연관 세그먼트만 출력되며 자연어로 이루어져 있습니다.</code></pre></div>\n<h2>3. LLM 의미확장 API 결과물 </h2>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">동의 세그먼트\n\t소형차에 관심이 있는 사용자 중 최근 90일 이내에 자동차 관련 정보를 조회한 사용자 집단입니다.\n\t이들은 소형차 구매 의사가 높거나 소형차에 대한 정보 검색이 활발한 사용자들입니다.\n\n상위 세그먼트\n\t자동차에 관심이 있는 사용자, 즉 모든 차량 유형에 대한 정보를 검색하거나\n\t관련 콘텐츠를 소비하는 사용자 집단입니다.\n\t이 범주에는 중형차, 대형차, SUV 등 다양한 차량 유형에 관심을 가진 사용자들이 포함됩니다.\n\n하위 세그먼트\n\t특정 브랜드의 소형차를 검색한 사용자, 예를 들어 현대, 기아, 토요타의 소형차에 대한 정보를 찾는 사용자 집단입니다.\n\t이들은 특정 브랜드에 대한 선호가 뚜렷한 소비자들입니다.\n\n연관 세그먼트\n\t자동차 관련 액세서리나 부품에 관심이 있는 사용자 집단입니다.\n\t이들은 소형차뿐만 아니라 관련된 차량 관리 용품이나 자동차 보험, 정비 서비스 등에도 관심을 가질 가능성이 높은 사용자들입니다.</code></pre></div>\n<h2>4. LLM Embedding Vector 추출 (3,072차원 예시)</h2>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token string\">\"embedding\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token number\">0.00021520282</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">0.02277509</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">0.014803194</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">0.02186752</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.02352322</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">0.0014579368</span><span class=\"token punctuation\">,</span>  \n<span class=\"token number\">0.016005112</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">0.02368266</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.009247398</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">0.026368573</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">0.0055098054</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.0035290963</span><span class=\"token punctuation\">,</span>  \n<span class=\"token operator\">-</span><span class=\"token number\">0.015379624</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.033653658</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.0376764</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.017121177</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">0.015772087</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">0.01713344</span><span class=\"token punctuation\">,</span>  \n<span class=\"token number\">0.06882811</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.0336046</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.0010516768</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.021744875</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">0.01782025</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">0.031642288</span><span class=\"token punctuation\">,</span>  \n<span class=\"token operator\">-</span><span class=\"token number\">0.025044013</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">0.013306932</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">0.014337146</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.042778414</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.008161994</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.04368598</span><span class=\"token punctuation\">,</span>  \n<span class=\"token operator\">-</span><span class=\"token number\">0.009235133</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">0.046923798</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.028306358</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">]</span></code></pre></div>\n<h2>5. Elasticsearch에 Embedding Vector 적재</h2>\n<p>생성된 임베딩 벡터는 Elasticsearch의 dense_vector 필드 형태로 저장됩니다. dense_vector는 고정된 차원의 실수(float) 배열을 효율적으로 저장하고, 유사도 기반 검색을 지원하고자 설계된 특수한 필드 타입입니다.<br/><br/>\n이렇게 저장된 벡터들은 단순한 텍스트 검색이 아닌 의미 기반 검색을 가능하게 합니다. 즉, 사용자가 입력한 문장과 의미적으로 비슷한 문장을 찾아 주는 구조입니다.\n<br/>\n<br/></p>\n<hr>\n<h1>Seg Lens 벡터 DB 구축(4) - 서비스별·권한별 데이터 접근 제어 방안</h1>\n<p>DMP(Data Management Platform)와 CDP(Customer Data Platform)에서는 <strong>동일한 검색 요청이라도, 사이트나 사용자 권한 수준에 따라 접근 가능한 자원이 달라져야 합니다.</strong> 관리자가 사용하는 운영 콘솔(Admin Console) 및 각 파트너·브랜드 사이트의 접근 범위는 명확히 구분되어야 하며, 이는 단순 보안이 아닌 비즈니스 로직 차원의 필수 요구사항입니다. <br/>\n<br/>\n예를 들어, DMP에서는 세그먼트(Segment), 트레잇(Trait), 데이터 소스(Data Source)의 공유 상태에 따라 검색 가능한 데이터 범위가 달라집니다. SK플래닛-DMP에서는 자체 수집 데이터와 파생 세그먼트까지 조회할 수 있지만, SK브로드밴드-DMP에서는 자사 데이터만 접근 가능해야 합니다. 이를 위해 검색 쿼리의 filter 영역에 사이트별 접근 가능한 자원 정보를 반영했습니다.<br/>\n접근 제어 정보는 site_resource_index에 저장되며, 검색 시점에 해당 사이트의 resource_id 목록을 조회하여 메인 인덱스 결과를 동적으로 필터링합니다.<br/></p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\">          <span class=\"token property\">\"filter\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n            <span class=\"token punctuation\">{</span>\n              <span class=\"token property\">\"terms\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token property\">\"filter_id\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n                  <span class=\"token property\">\"index\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"site_resource_index\"</span><span class=\"token punctuation\">,</span> # 접근가능한 자원정보\n                  <span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"20\"</span><span class=\"token punctuation\">,</span> # 현재 접속한 사이트의 ID\n                  <span class=\"token property\">\"path\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"resource_id\"</span> # 접근 가능한 데이터들의 목록\n                <span class=\"token punctuation\">}</span>\n              <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n          <span class=\"token punctuation\">]</span></code></pre></div>\n<p>이 구조는 Elasticsearch KNN(Vector) 검색과 자연스럽게 통합되어, 벡터 검색의 정확도(semantic similarity)를 유지하면서도 사이트별 권한 제어(authorization filtering)를 동시에 보장합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"_index\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"site_resource_index\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"_id\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"20\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"_source\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"resource_id\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n      <span class=\"token string\">\"d_1277\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string\">\"t_1279\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string\">\"s_1280\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string\">\"s_1281\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string\">\"d_1282\"</span><span class=\"token punctuation\">,</span> ... <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<hr>\n<h1>DIA(DMP Intelligence API)란?</h1>\n<p><strong>DIA</strong> 는 <strong>Data Management Platform(DMP)의 지능형 추천 시스템</strong>으로, 다음과 같은 목적을 가지고 있습니다:</p>\n<h2>1. 마케팅 세그먼트 기반 지능형 추천</h2>\n<ul>\n<li>사용자가 입력한 키워드나 이미지를 분석하여 마케팅 대상 세그먼트를 자동으로 추출</li>\n<li>각 세그먼트별로 관련 리소스(콘텐트, 상품, 서비스 등)를 지능적으로 추천</li>\n<li>벡터 검색과 키워드 매칭을 결합한 하이브리드 추천 시스템</li>\n</ul>\n<h2>2. AI 기반 콘텐트 분석</h2>\n<ul>\n<li>OpenAI GPT 모델을 활용한 자연어 처리</li>\n<li>이미지 분석을 통한 시각적 콘텐츠 이해</li>\n<li>키워드 확장 및 세그먼트 추출을 통한 정확한 의도 파악</li>\n</ul>\n<h2>3. 실시간 벡터 검색</h2>\n<ul>\n<li>Elasticsearch를 활용한 고성능 벡터 검색</li>\n<li>임베딩 기반 의미적 유사도 검색</li>\n<li>사이트별 필터링을 통한 맞춤형 추천</li>\n</ul>\n<hr>\n<h1>Seg Lens DIA 구축(1) - Architecture</h1>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/2466663059f6c124736b63166150b924/d0e73/image08.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 104.43037974683544%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB40lEQVR42q3UCW5iMRAEUO5/PRASS1gCIew7hN3Ra8kIksz8kTKWLD52d3VVte1SKhjX6zXm5XJJt9utKDyVigI2m01qt9up2+2m/X7/e8D5fJ7q9Xp6eXkJcONvTH8EPJ/P6XQ6xRyPx6lWq6Vms5kWi0WsHQ6HsKAQMFderVZpNBoFSL/fj99GoxGz1WrF3m63u+c8Mi5lgMFgENImk0nMXq+XhsNhen19jXX71oFtt9tiyYIkrdfrNJvNYn58fATAcrmMGP/FYJnXeCwWKUzvgALe399jczqdxgQOkHeCFdXxSqUS6xhXq9Wwgtd8vQNKcjRsAOadqiSTnlUAwlL88XgMhrmoZpayoZhJtvn29hZJgvOa4RzmfcV0nBIEKHxiSB5WNiTlTkpWLANmBeIdH9+KAlbgzhAjXpDNdF6RqsMSclHd73Q64R/JYvIJ0LSnc8gHA7N8zYBIzF3GFku3xkQAoEndj4DMz2dNEGn5XvPOWm4GqRj7DsmPgNhIEEyCAgLJ9OJg6Jsl4jDNnsv5Bpiv0dfLL9mRAEhiuVwOIDI1EkM+fwP8OgADIksyJrqaCwDFMl/JOIdFj6smSAAI6PER8ZtfJfPp6v1pCATKXwx+/cAC0oT/9mI7g7wy/4XhJ606VtQe6TsJAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image08\"\n        title=\"\"\n        src=\"/static/2466663059f6c124736b63166150b924/f058b/image08.png\"\n        srcset=\"/static/2466663059f6c124736b63166150b924/c26ae/image08.png 158w,\n/static/2466663059f6c124736b63166150b924/6bdcf/image08.png 315w,\n/static/2466663059f6c124736b63166150b924/f058b/image08.png 630w,\n/static/2466663059f6c124736b63166150b924/d0e73/image08.png 671w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<hr>\n<h1>Seg Lens DIA 구축(2) -  Service Flow</h1>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 626px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a37ecadb204559fc9eed82ae1327dbcb/af590/image09.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 129.74683544303798%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAaCAYAAAC3g3x9AAAACXBIWXMAAAsTAAALEwEAmpwYAAACaElEQVR42p2VB6siQRCE/f//S0UUs2LOOeesfXwNJT7v9qG3MMzObHdNVYfZkAU8p9PJNpuNHQ4H2+/3PmusVit7PB7/9Au9b8gQkNls5s7dbteq1aq1Wi1br9c2mUzsfr9/BqjneDy6I6DT6dQGg4GvF4uFrz9mqOdyudhyuXTZsBqNRk+5jKAnEBDJu93OgWq1mpVKJR865Ha7fRdD2CARsFQqZfF43GKxmMeSQ76WfD6frdfreUKYm82mA7Emnl9LBnC73Xq8SEKn03G5xBPJHzNUORBDQLLZrGUyGZedTqetWCzacDh0O0DfgX+tQxypPUAY5XLZ2u22S/+1DnXS9Xp9SkIqScG53+97cjiA9Xw+dzsGYRHbJyCGBBonGJEAgg+raDTqUiORiIXDYR8cgA3JIuuw5p0DHBADOgNQTqQbSACDTiFBMKPYsUUJM+vxeOxJAwzmT4aSBwCzWg0H9gCQDY6sOZg1NgwIOCB0kVupVHwmu0hhTXeoDtUxjUbD95DKmv16ve5xfzIEXcXLO2zYZ48W5B1mHIQjjAgPMRfbHwzZ1Ed1CExhgbM6hAMAx4Z9fHhX4TugYsFHao2B3FwuZ/l83teFQsGzTpErHAoJJPCndn8UNjeI6lADI6ThQCUgXzaqw8BOwQGA145RMphhrItB3wF9bb/Q+3+Ea0sOHED2uLYSiYQlk0mPJUrUHe8XxV+ASFLdqcYoE5JD4FVzMNVlGwjIqRgQF4AVR9Z0A+FQ/PSd+aP7EOkwoOZUJtQmINTjx3+91+uLEABKMigXYsgaxv/1T4EJjBQzGCIZ+UEM/wDs6cK79IvU0AAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image09\"\n        title=\"\"\n        src=\"/static/a37ecadb204559fc9eed82ae1327dbcb/af590/image09.png\"\n        srcset=\"/static/a37ecadb204559fc9eed82ae1327dbcb/c26ae/image09.png 158w,\n/static/a37ecadb204559fc9eed82ae1327dbcb/6bdcf/image09.png 315w,\n/static/a37ecadb204559fc9eed82ae1327dbcb/af590/image09.png 626w\"\n        sizes=\"(max-width: 626px) 100vw, 626px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h2>1. 자연어와 이미지로 질의</h2>\n<p>Seg Lens는 사용자의 질의부터 다르게 접근합니다. <br/>\n단순한 키워드가 아니라, 자연어 문장이나 이미지로도 마케터의 의도를 전달할 수 있습니다. 예를 들어,</p>\n<p>| “서울에 사는 30대 혹은 40대 여성에게 노트북 추천”</p>\n<p>이 한 문장 안에는 여러 의미 단위가 숨어 있죠.\nSeg Lens는 이를 자동으로 분석해 이렇게 구조화합니다.</p>\n<p><strong>\"서울 AND (30대 OR 40대) AND 여성 AND 노트북\"</strong>\n<br/>\n<br/></p>\n<h2>2. 의미 단위 분석과 세그먼트 추출</h2>\n<p>LLM(OpenAI 기반)을 활용해 질의에서 핵심 키워드와 의미 단위를 추출합니다.<br/>\n이를 ‘세그먼트 정보’로 정리하면 다음과 같습니다.<br/></p>\n<ul>\n<li>세그먼트 정보 Json 파싱 </li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"query\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"서울에 사는 30대 혹은 40대 여성에게 노트북 추천\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"logic\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"서울 AND (30대 OR 40대) AND 여성 AND 노트북\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"segments\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"value\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"서울\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"demo_area\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"conjunction\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"AND\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"order\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"group\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"value\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"30대\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"demo_age\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"conjunction\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"AND\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"order\"</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"group\"</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n   ...\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span> </code></pre></div>\n<p>성별, 나이, 지역 등은 demo type(인구통계 정보), 그 외 키워드는 general type(일반 관심 키워드)로 구분합니다.</p>\n<h2>3. 키워드 검색 + 벡터 검색의 하이브리드 접근</h2>\n<h3>3-1. 키워드 검색 </h3>\n<p>“노트북”이라는 키워드에서 관련 항목을 확장합니다.<br/>\n예를 들어, LLM을 통해 아래와 같은 확장 키워드를 자동 생성합니다. <br/></p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\">입력 키워드<span class=\"token operator\">:</span> 노트북\n추출된 키워드<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>'노트북'<span class=\"token punctuation\">,</span> 'LG 그램'<span class=\"token punctuation\">,</span> '삼성 갤럭시북'<span class=\"token punctuation\">,</span> '애플 맥북 프로'<span class=\"token punctuation\">,</span> '애플 맥북 에어'<span class=\"token punctuation\">,</span> '델 XPS'<span class=\"token punctuation\">,</span> '레노버 씽크패드'<span class=\"token punctuation\">,</span> 'HP 스펙터'<span class=\"token punctuation\">,</span> 'ASUS 젠북'<span class=\"token punctuation\">,</span> 'MS 서피스 랩탑'<span class=\"token punctuation\">,</span> 'MS 서피스 프로'<span class=\"token punctuation\">,</span> '에이서 스위프트'<span class=\"token punctuation\">,</span> 'MSI 모던'<span class=\"token punctuation\">,</span> '노트북 거치대'<span class=\"token punctuation\">,</span> '무선 마우스'<span class=\"token punctuation\">]</span></code></pre></div>\n<p>이 키워드들을 기반으로 Elasticsearch에 병렬 검색을 수행하여, 높은 점수를 받은 결과만 남기고 중복을 제거합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\">키워드 검색 결과 <span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"_index\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"dmp_index_n1\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"_id\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"h0M-A5oBR8OodhE7G-E5\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"_score\"</span><span class=\"token operator\">:</span> <span class=\"token number\">10.481092</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"_source\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token property\">\"column_value\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span>\"72_col007 노트북\\\\노트북||노트북||삼성<span class=\"token string\">\"\"</span>\"<span class=\"token punctuation\">,</span>\n          <span class=\"token property\">\"count\"</span><span class=\"token operator\">:</span> <span class=\"token number\">31993</span><span class=\"token punctuation\">,</span>\n          <span class=\"token property\">\"attrId\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"d_94\"</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"_index\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"dmp_index_n1\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"_id\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"tEM-A5oBR8OodhE7G-E5\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"_score\"</span><span class=\"token operator\">:</span> <span class=\"token number\">10.481092</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"_source\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token property\">\"column_value\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span>\"72_col007 노트북\\\\노트북||노트북||LG<span class=\"token string\">\"\"</span>\"<span class=\"token punctuation\">,</span>\n          <span class=\"token property\">\"count\"</span><span class=\"token operator\">:</span> <span class=\"token number\">27169</span><span class=\"token punctuation\">,</span>\n          <span class=\"token property\">\"attrId\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"d_94\"</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n......(생략)......</code></pre></div>\n<h3>3-2. 벡터 검색</h3>\n<p>동시에, 질의어와 세그먼트 정보를 의미적으로 확장합니다.<br/>\n예를 들어 “서울”이라는 단어는 단순 지역명이 아니라, “서울에 거주하거나 활동하는 사람들”이라는 맥락으로 확장됩니다.<br/></p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\">키워드 확장 결과<span class=\"token operator\">:</span> 마케팅 대상은 서울에 거주하거나 활동하는 사람들입니다. 이 대상은 지리적으로 서울특별시에 위치한 소비자 또는 사용자를 의미하며<span class=\"token punctuation\">,</span> 서울 내에서 이루어지는 구매<span class=\"token punctuation\">,</span> 방문<span class=\"token punctuation\">,</span> 또는 기타 행동을 기반으로 식별할 수 있습니다. 연령<span class=\"token punctuation\">,</span> 성별<span class=\"token punctuation\">,</span> 관심사 등 다른 속성은 주어지지 않았으므로 포함하지 않습니다.\n\n키워드 확장 결과<span class=\"token operator\">:</span> 마케팅 대상은 <span class=\"token number\">30</span>대 연령층에 속하는 사람들입니다. 이 대상은 만 <span class=\"token number\">30</span>세부터 <span class=\"token number\">39</span>세 사이의 성인으로<span class=\"token punctuation\">,</span> 특정 성별이나 지역에 제한되지 않으며<span class=\"token punctuation\">,</span> 연령에 따른 생활 패턴이나 관심사를 가진 집단이라고 볼 수 있습니다. 구매 행동이나 관심사는 세그먼트에 명시되어 있지 않아 일반적인 <span class=\"token number\">30</span>대 특성에 기반한 마케팅 전략을 세울 수 있습니다.\n\n...</code></pre></div>\n<p>이렇게 생성된 문장을 3,072차원의 벡터로 임베딩하여 의미 유사도 기반 검색을 수행합니다.<br/>\n그 결과 “서울시 거주자”, “서울 서초구 거주 세그먼트”와 같은 유의미한 결과를 반환합니다. <br/>\n<br/></p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\">벡터 검색 결과<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"total\"</span><span class=\"token operator\">:</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"recommendIds\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"segment\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"53979\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"content\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"출처 > 서울시거주자\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"score\"</span><span class=\"token operator\">:</span> <span class=\"token number\">0.8341</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"segment\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"11705\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"content\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"표준 세그먼트 > 목적지/거주지 > 목적지 (구) > 서울 서초구\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"score\"</span><span class=\"token operator\">:</span> <span class=\"token number\">0.8251</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\t...\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span>  </code></pre></div>\n<h3>3-3. 결과 병합과 그룹화</h3>\n<p>키워드 검색과 벡터 검색의 결과는 각각 CSV로 변환 후 통합됩니다.<br/>\n이후, 같은 의미를 가진 데이터는 그룹으로 묶여 <strong>마케터가 바로 쓸 수 있는 형태로 정리</strong>됩니다.<br/></p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\">그룹 데이터 <span class=\"token number\">1</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"target\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"'서울' 관련 마케팅 세그먼트\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"reason\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"'서울'와 관련된 마케팅 대상자 세그먼트들을 그룹화한 결과입니다.\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"resources\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"segment\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"53979\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"content\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"출처 > 서울시거주자\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"content_desc\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"서울시에 거주하는 고객들로 구성된 OK캐쉬백락 세그먼트\"</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"segment\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"11705\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"content\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"표준 세그먼트 > 목적지/거주지 > 목적지 (구) > 서울 서초구\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"content_desc\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"서울 서초구에 거주하는 고객들로 이루어진 목적지(구) 세그먼트\"</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    ...\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"conjunction\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"AND\"</span>\n<span class=\"token punctuation\">}</span> \n\n......(생략)......</code></pre></div>\n<h3>3-4. 최종 결과 반환</h3>\n<p>최종적으로 Seg Lens는 아래와 같은 구조로 결과를 제공합니다.<br/>\n이 결과는 단순한 검색 결과가 아니라, 의도를 이해해 <strong>바로 실행 가능한 세그먼트 추천</strong>으로 완성됩니다.<br/></p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"code\"</span><span class=\"token operator\">:</span> <span class=\"token number\">200</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"result\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"content\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"서울에 사는 30대 혹은 40대 여성에게 노트북 추천\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"result_summary\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"서울 AND (30대 OR 40대) AND 여성 AND 노트북\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"recommendation_targets\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n      <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"target\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"'서울' 관련 마케팅 세그먼트\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"reason\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"'서울'와 관련된 마케팅 대상자 세그먼트들을 그룹화한 결과입니다.\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"resources\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n          <span class=\"token punctuation\">{</span>\n            <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"segment\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"53979\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token property\">\"content\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"OK캐쉬백락 > 서울시거주자\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token property\">\"content_desc\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"서울시에 거주하는 고객들로 구성된 OK캐쉬백락 세그먼트\"</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">{</span>\n            <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"segment\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"11705\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token property\">\"content\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"표준 세그먼트 > 목적지/거주지 > 목적지 (구) > 서울 서초구\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token property\">\"content_desc\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"서울 서초구에 거주하는 고객들로 이루어진 목적지(구) 세그먼트\"</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n          ...\n        <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"conjunction\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"AND\"</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      ...\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"resut_summary\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"서울 AND (30대 OR 40대) AND 여성 AND 노트북\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"revised_result\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"keyword\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"서울에 사는 30대 혹은 40대 여성에게 노트북 추천\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"revised_keyword\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"서울에 사는 30대 혹은 40대 여성에게 노트북 추천\"</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"extract_segment_result\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"query\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"서울에 사는 30대 혹은 40대 여성에게 노트북 추천\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"logic\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"서울 AND (30대 OR 40대) AND 여성 AND 노트북\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"segments\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token punctuation\">{</span>\n          <span class=\"token property\">\"value\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"서울\"</span><span class=\"token punctuation\">,</span>\n          <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"demo_area\"</span><span class=\"token punctuation\">,</span>\n          <span class=\"token property\">\"conjunction\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"AND\"</span><span class=\"token punctuation\">,</span>\n          <span class=\"token property\">\"order\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n          <span class=\"token property\">\"group\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">{</span>\n          <span class=\"token property\">\"value\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"30대\"</span><span class=\"token punctuation\">,</span>\n          <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"demo_age\"</span><span class=\"token punctuation\">,</span>\n          <span class=\"token property\">\"conjunction\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"AND\"</span><span class=\"token punctuation\">,</span>\n          <span class=\"token property\">\"order\"</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n          <span class=\"token property\">\"group\"</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        ...\n      <span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"request_id\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"570c6ecc-45ba-42a0-a23d-9b68d8459052\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h1>맺음말</h1>\n<p><strong>Seg Lens</strong>는 단순히 세그먼트 생성 방식을 바꾼 것뿐만 아니라, 데이터 마케팅 패러다임 자체를 혁신한 시도입니다. LLM과 벡터 검색을 활용해 ‘데이터를 이해하는 시스템’에서 <strong>‘마케터의 의도를 이해하는 시스템’</strong> 으로 발전함으로써, 마케터는 더 이상 복잡한 데이터 구조를 해석할 필요 없이 <strong>생각을 실행으로 바로 전환</strong>할 수 있게 되었습니다. 복잡한 조건 설정 대신 자연어 한 줄, 텍스트·이미지 입력만으로도 원하는 타겟을 찾는 경험은, 마케터가 데이터 엔지니어가 아닌 <strong>고객을 이해하는 전략가로서 본연의 역할에 집중하게 만들어 줍니다.</strong>\n<br/><br/>\n<strong>Seg Lens는 기술을 통해 마케터의 의도를 곧바로 실행으로 연결하는 경험을 추구합니다.</strong> 앞으로도 Seg Lens는 더욱 다양한 데이터 소스와 연결되어 데이터의 복잡함을 줄이고, 인사이트의 속도를 높이는 혁신을 지속할 것입니다.\n<br/>\n<br/>\n덧. 처음 기획한 제목은 \"데이터? 몰라도 돼요!!\" - 간단한 입력으로 타겟 고객을 찾는 LLM 마케팅 솔루션\" 였답니다. 혹시 읽어보신 글의 내용에 부합이 되었을까요? : )</p>\n<p>읽어 주셔서 감사드립니다!</p>","frontmatter":{"title":"마케터를 돕는 LLM 기반 DMP - Seg Lens 시스템 개발기","date":"October 23, 2025","description":"데이터? 몰라도 돼요!! - 간단한 입력으로 타겟 고객을 찾는 LLM 마케팅 솔루션, 또는 마케터의 의도를 이해하는 ‘똑똑한 세그먼트 생성기’","author":"dsdev"}},"previous":{"fields":{"slug":"/techblogupdate1/"},"frontmatter":{"title":"Tech Topic 기술블로그 개선 실험 - 콘텐트, 성능, SEO, AEO"}},"next":null},"pageContext":{"id":"78bd5af1-fc26-5cea-a734-3a592eb61036","previousPostId":"f165b384-8bb9-5f71-8f83-024c4b499d86","nextPostId":null}},"staticQueryHashes":["2841359383"],"slicesMap":{}}